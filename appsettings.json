{
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Port=5432;Database=ProjectManagement5;Username=postgres;Password=postgres;Include Error Detail=true"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "Microsoft.EntityFrameworkCore.Database.Command": "Warning",
      "Microsoft.EntityFrameworkCore.Model.Validation": "Warning",
      "ProjectManagement.Services.TodoService": "None",
      "ProjectManagement.Services.TodoPurgeWorker": "Warning"
    }
  },
  "AllowedHosts": "*",
  "Email": {
    "From": "",
    "Smtp": {
      "Host": "",
      "Port": 587,
      "Username": "",
      "Password": ""
    }
  },
  "UserLifecycle": {
    "HardDeleteWindowHours": 72,
    "UndoWindowMinutes": 15
  },
  "Todo": {
    "RetentionDays": 7,
    "MaxOpenTasks": 500
  },
  "Notifications": {
    "Retention": {
      "SweepInterval": "00:15:00",
      "MaxAge": "30.00:00:00",
      "MaxPerUser": 200
    }
  },
  "IprAttachments": {
    "MaxFileSizeBytes": 20971520,
    "AllowedContentTypes": [
      "application/pdf"
    ],
    "StorageFolderName": "ipr-attachments"
  },
  "FfcAttachments": {
    "MaxFileSizeBytes": 20971520
  },
  "FileDownload": {
    "TokenLifetimeMinutes": 30,
    "BindTokensToUser": true
  },
  "CompendiumPdf": {
    "Title": "Proliferation Compendium",
    "UnitDisplayName": "",
    "MiscCategoryNames": [ "Misc", "Miscellaneous" ],
    "CoverPhotoDerivativeKey": "md",
    "PreferWebp": true
  },
  "ProjectPhotos": {
    "MaxFileSizeBytes": 10485760,
    "MinWidth": 720,
    "MinHeight": 540,
    "AllowedContentTypes": [
      "image/jpeg",
      "image/png",
      "image/webp"
    ],
    "Derivatives": {
      "xl": { "Width": 1600, "Height": 1200, "Quality": 90 },
      "md": { "Width": 1200, "Height": 900, "Quality": 85 },
      "sm": { "Width": 800, "Height": 600, "Quality": 80 },
      "xs": { "Width": 400, "Height": 300, "Quality": 75 }
    },
    "MaxProcessingConcurrency": 2,
    "MaxEncodingConcurrency": 2
  },
  "ProjectDocuments": {
    "ProjectsSubpath": "projects",
    "PhotosSubpath": "",
    "StorageSubPath": "docs",
    "CommentsSubpath": "comments",
    "TempSubPath": "temp",
    "MaxSizeMb": 100,
    "AllowedMimeTypes": [
      "application/pdf",
      "application/msword",
      "application/vnd.ms-powerpoint",
      "application/vnd.ms-excel",
      "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
      "application/vnd.openxmlformats-officedocument.presentationml.presentation",
      "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
    ],
    "EnableVirusScan": false,
    "Ocr": {
      "WorkRoot": "App_Data/project-ocr",
      "InputSubpath": "input",
      "OutputSubpath": "output",
      "LogsSubpath": "logs",
      "EnableWorker": true
    }
  },
  "ProjectVideos": {
    "MaxFileSizeBytes": 209715200,
    "AllowedContentTypes": [
      "video/mp4",
      "video/webm",
      "video/ogg"
    ],
    "PosterFileExtension": ".jpg"
  },
  "ProjectOfficeReports": {
    "VisitPhotos": {
      "MaxFileSizeBytes": 10485760,
      "MaxFilesPerUpload": 20,
      "MinWidth": 720,
      "MinHeight": 540,
      "AllowedContentTypes": [
        "image/jpeg",
        "image/png",
        "image/webp"
      ],
      "Derivatives": {
        "xl": { "Width": 1920, "Height": 1080, "Quality": 85 },
        "lg": { "Width": 1280, "Height": 720, "Quality": 85 },
        "md": { "Width": 800, "Height": 600, "Quality": 80 },
        "sm": { "Width": 640, "Height": 480, "Quality": 80 },
        "xs": { "Width": 400, "Height": 300, "Quality": 75 }
      },
      "StoragePrefix": "project-office-reports/visits"
    },
    "SocialMediaPhotos": {
      "MaxFileSizeBytes": 10485760,
      "MaxFilesPerUpload": 20,
      "AllowedContentTypes": [
        "image/jpeg",
        "image/png",
        "image/webp"
      ],
      "Derivatives": {
        "story": { "Width": 1080, "Height": 1920, "Quality": 85 },
        "feed": { "Width": 1200, "Height": 1200, "Quality": 85 },
        "thumb": { "Width": 600, "Height": 600, "Quality": 80 }
      },
      "StoragePrefix": "org/social/{eventId}"
    },
    "TrainingTracker": {
      "Enabled": true
    }
  },
  "Projects": {
    "Retention": {
      "TrashRetentionDays": 30,
      "RemoveAssetsOnPurge": true
    }
  },
  "DocRepo": {
    "EnableAutoApplyFilters": false,
    "EnableListViewUxUpgrade": true,
    "RootPath": "App_Data/DocRepo",
    "EnableIngestion": true,
    "IngestionOfficeCategoryId": 1,
    "IngestionDocumentCategoryId": 1,
    "IngestionUserId": "system",
    "OcrWorkRoot": "ocr-work",
    "OcrInput": "input",
    "OcrOutput": "output",
    "OcrLogs": "logs"
  },
  "SecurityHeaders": {
    "ContentSecurityPolicy": {
      "ConnectSources": []
    }
  },
  "Security": {
    "Csp": {
      "ConnectSrcExtra": [],
      "StyleSrcExtra": [],
      "FontSrcExtra": [],
      "ImgSrcExtra": []
    }
  }
}
