@model ProjectManagement.ViewModels.Projects.IndustryPartners.LinkProjectDrawerViewModel

@* Section: Link project drawer *@
<div class="offcanvas offcanvas-end" tabindex="-1" id="linkProjectDrawer" aria-labelledby="linkProjectDrawerLabel">
    <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="linkProjectDrawerLabel">Link to Project</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
        <form class="industry-partners-form"
              method="post"
              hx-post="/projects/industry-partners?handler=LinkProject"
              hx-target="#industryPartnerDetail"
              hx-swap="innerHTML"
              hx-include="#industryPartnerId">
            @Html.AntiForgeryToken()
            <div class="mb-3">
                <label class="form-label" for="projectSearch">Project Search</label>
                <input id="projectSearch" class="form-control" type="search" placeholder="Search by name or code" />
            </div>
            <div class="mb-3">
                <label class="form-label" for="projectSelection">Project Selection</label>
                <select id="projectSelection" name="ProjectId" class="form-select" required>
                    <option value="">Select a project</option>
                    @foreach (var project in Model.Projects)
                    {
                        <option value="@project.Id">@project.DisplayName</option>
                    }
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label" for="projectRole">Role</label>
                <select id="projectRole" name="Role" class="form-select" required>
                    <option value="">Select a role</option>
                    <option value="Development Partner">Development Partner</option>
                    <option value="JDP">JDP</option>
                    <option value="OEM">OEM</option>
                    <option value="ToT Recipient">ToT Recipient</option>
                    <option value="Support">Support</option>
                </select>
            </div>
            <div class="mb-3">
                <label class="form-label" for="projectNote">Optional Note</label>
                <textarea id="projectNote" name="Notes" class="form-control" rows="3"></textarea>
            </div>
            <div class="d-flex justify-content-end gap-2">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="offcanvas">Cancel</button>
                <button type="submit" class="btn btn-primary" data-bs-dismiss="offcanvas">Save Association</button>
            </div>
        </form>
    </div>
</div>
