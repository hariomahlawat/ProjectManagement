@model ProjectManagement.Pages.Projects.OverviewModel

@if (!Model.ShowJdpPanel)
{
    return;
}

@{
    // SECTION: Joint Development Partner panel state
    var partnerCount = Model.JdpPartners.Count;
    var isLinked = partnerCount > 0;

    var cardModel = new RightColumnSummaryCardViewModel
    {
        IconClass = "bi bi-building",
        Title = "Joint Development Partner",
        Subtitle = "Industry partner associated with this project.",
        StatusText = isLinked ? "Linked" : "Not linked",
        StatusBadgeClass = isLinked ? "text-bg-primary" : "text-bg-secondary",
        BodyPartialName = "_ProjectJdpPanelBody",
        BodyModel = Model,
        HeaderActionsPartialName = "_ProjectJdpPanelHeaderActions",
        HeaderActionsModel = Model
    };
}

<!-- SECTION: Joint Development Partner panel -->
<partial name="_RightColumnSummaryCard" model="cardModel" />
