@page "{id:int}"
@model ProjectManagement.Pages.Projects.Meta.EditModel
@{
    ViewData["Title"] = "Edit Project Details";
}

<h1 class="mb-4">Edit Project Details</h1>

<form method="post">
    <input asp-for="Input.ProjectId" type="hidden" />
    <input asp-for="Input.RowVersion" type="hidden" />
    <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>
    <div class="mb-3">
        <label asp-for="Input.Name" class="form-label"></label>
        <input asp-for="Input.Name" class="form-control" />
        <span asp-validation-for="Input.Name" class="text-danger"></span>
    </div>
    <div class="mb-3">
        <label asp-for="Input.Description" class="form-label"></label>
        <textarea asp-for="Input.Description" class="form-control" rows="4" maxlength="1000"></textarea>
        <div class="form-text" data-char-count-for="Input_Description">0/1000</div>
        <span asp-validation-for="Input.Description" class="text-danger"></span>
    </div>
    <div class="mb-3">
        <label asp-for="Input.CategoryId" class="form-label">Category</label>
        <select asp-for="Input.CategoryId" class="form-select" asp-items="Model.CategoryOptions"></select>
        <span asp-validation-for="Input.CategoryId" class="text-danger"></span>
    </div>
    <div class="mb-3">
        <label asp-for="Input.TechnicalCategoryId" class="form-label">Technical Category</label>
        <select asp-for="Input.TechnicalCategoryId" class="form-select" asp-items="Model.TechnicalCategoryOptions"></select>
        <span asp-validation-for="Input.TechnicalCategoryId" class="text-danger"></span>
    </div>
    <div class="mb-3">
        <label asp-for="Input.SponsoringUnitId" class="form-label">Sponsoring Unit</label>
        <select asp-for="Input.SponsoringUnitId" class="form-select js-async-select" asp-items="Model.SponsoringUnitOptions" data-source="/api/lookups/sponsoring-units" data-search-placeholder="Search sponsoring units"></select>
        <span asp-validation-for="Input.SponsoringUnitId" class="text-danger"></span>
    </div>
    <div class="mb-3">
        <label asp-for="Input.SponsoringLineDirectorateId" class="form-label">Sponsoring Line Dte</label>
        <select asp-for="Input.SponsoringLineDirectorateId" class="form-select js-async-select" asp-items="Model.LineDirectorateOptions" data-source="/api/lookups/line-directorates" data-search-placeholder="Search line directorates"></select>
        <span asp-validation-for="Input.SponsoringLineDirectorateId" class="text-danger"></span>
    </div>
    <div class="mb-3">
        <label asp-for="Input.CaseFileNumber" class="form-label"></label>
        <input asp-for="Input.CaseFileNumber" class="form-control" />
        <span asp-validation-for="Input.CaseFileNumber" class="text-danger"></span>
    </div>
    <button type="submit" class="btn btn-primary">Save changes</button>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script src="~/js/widgets/async-select.js" asp-append-version="true" defer></script>
    <script src="~/js/widgets/char-count.js" asp-append-version="true" defer></script>
}
