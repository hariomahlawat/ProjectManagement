@page
@model ProjectManagement.Pages.IndexModel
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ProjectManagement.Models.ApplicationUser> SignInManager

<section class="hero container-xxl">
  <div class="hero-left">
    <span class="hero-eyebrow">Mission control for defence R&amp;D</span>
    <h1 class="hero-title mb-3">Plan. Track. Deliver with clarity.</h1>
    <p class="hero-description mb-4">
      Keep research programmes aligned with a single source of truth for tasks, approvals and dependencies.
    </p>

    <ul class="hero-highlights mb-4">
      <li>Custom workspaces for leadership, engineering and support roles</li>
      <li>Collaborative timelines with contextual comments and file history</li>
      <li>Automated progress signals to surface bottlenecks early</li>
    </ul>

    @if (SignInManager.IsSignedIn(User))
    {
      <a class="btn btn-success btn-lg" asp-page="/Dashboard/Index">Go to your dashboard</a>
    }
    else
    {
      <a class="btn btn-primary btn-lg me-2" href="#login-card">Sign in</a>
      <a class="link-primary" href="#features">Explore features</a>
    }
  </div>

  <aside class="hero-right">
    @* <img class="hero-art" src="~/img/sdd.webp" alt="Eklavya sybolising self learning" /> *@
    @if (!SignInManager.IsSignedIn(User))
    {
      <div class="hero-card" id="login-card">
        <partial name="_LoginCard" />
      </div>
    }
  </aside>
</section>

<section id="features" class="container-xxl mt-5">
  <h2 class="h3 fw-bold mb-4">Feature highlights</h2>
  <partial name="_FeatureGrid" />
</section>

<section class="py-5">
  <partial name="_HowItWorks" />
</section>

<section id="security" class="py-5 border-top">
  <partial name="_SecurityStrip" />
</section>

@section Scripts {
  <script type="module" src="~/js/utils/password-toggle.js"></script>
  <script type="module" src="~/js/utils/login-card.js"></script>
}
