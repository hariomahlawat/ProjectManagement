@model ProjectManagement.ViewComponents.NavigationDrawerViewModel
@using System.Collections.Generic
@using ProjectManagement.ViewComponents
@{
    const string offcanvasId = "pmNavigationDrawer";
    const string offcanvasLabelId = "pmNavigationDrawerLabel";
}

<div class="d-flex align-items-center gap-2">
    <button class="navbar-toggler d-lg-none" type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#@offcanvasId"
            aria-controls="@offcanvasId"
            aria-label="Toggle navigation menu">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="offcanvas offcanvas-start" tabindex="-1" id="@offcanvasId" aria-labelledby="@offcanvasLabelId">
        <div class="offcanvas-header">
            <div>
                <h5 class="offcanvas-title mb-0" id="@offcanvasLabelId">@Model.Brand</h5>
                @if (!string.IsNullOrEmpty(Model.UserName))
                {
                    <span class="text-muted small">Signed in as @Model.UserName</span>
                }
            </div>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close navigation menu"></button>
        </div>
        <div class="offcanvas-body">
            @await Html.PartialAsync("_NavigationDrawerItems", new NavigationDrawerItemsViewModel(Model.Items, true, 0))
        </div>
    </div>

    <nav class="d-none d-lg-block" aria-label="Primary navigation">
        @await Html.PartialAsync("_NavigationDrawerItems", new NavigationDrawerItemsViewModel(Model.Items, false, 0))
    </nav>
</div>
