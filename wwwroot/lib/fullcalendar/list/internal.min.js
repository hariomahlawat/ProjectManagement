/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@fullcalendar/list@6.1.15/internal.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{BaseComponent,getUniqueDomId,getDateMeta,buildNavLinkAttrs,ContentContainer,getDayClassNames,formatDayString,createFormatter,EventContainer,getSegAnchorAttrs,isMultiDayRange,buildSegTimeText,DateComponent,memoize,ViewContainer,Scroller,NowTimer,sortEventSegs,getSegMeta,sliceEventStore,intersectRanges,startOfDay,addDays,injectStyles}from"@fullcalendar/core/internal.js";import{createElement,Fragment}from"@fullcalendar/core/preact.js";class ListViewHeaderRow extends BaseComponent{constructor(){super(...arguments),this.state={textId:getUniqueDomId()}}render(){let{theme:e,dateEnv:t,options:n,viewApi:a}=this.context,{cellId:r,dayDate:s,todayRange:i}=this.props,{textId:l}=this.state,o=getDateMeta(s,i),d=n.listDayFormat?t.format(s,n.listDayFormat):"",c=n.listDaySideFormat?t.format(s,n.listDaySideFormat):"",f=Object.assign({date:t.toDate(s),view:a,textId:l,text:d,sideText:c,navLinkAttrs:buildNavLinkAttrs(this.context,s),sideNavLinkAttrs:buildNavLinkAttrs(this.context,s,"day",!1)},o);return createElement(ContentContainer,{elTag:"tr",elClasses:["fc-list-day",...getDayClassNames(o,e)],elAttrs:{"data-date":formatDayString(s)},renderProps:f,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:renderInnerContent,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},(t=>createElement("th",{scope:"colgroup",colSpan:3,id:r,"aria-labelledby":l},createElement(t,{elTag:"div",elClasses:["fc-list-day-cushion",e.getClass("tableCellShaded")]}))))}}function renderInnerContent(e){return createElement(Fragment,null,e.text&&createElement("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&createElement("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const DEFAULT_TIME_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",meridiem:"short"});class ListViewEventRow extends BaseComponent{render(){let{props:e,context:t}=this,{options:n}=t,{seg:a,timeHeaderId:r,eventHeaderId:s,dateHeaderId:i}=e,l=n.eventTimeFormat||DEFAULT_TIME_FORMAT;return createElement(EventContainer,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",a.eventRange.def.url&&"fc-event-forced-url"],defaultGenerator:()=>renderEventInnerContent(a,t),seg:a,timeText:"",disableDragging:!0,disableResizing:!0}),((e,n)=>createElement(Fragment,null,buildTimeContent(a,l,t,r,i),createElement("td",{"aria-hidden":!0,className:"fc-list-event-graphic"},createElement("span",{className:"fc-list-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}})),createElement(e,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${s} ${i}`}}))))}}function renderEventInnerContent(e,t){let n=getSegAnchorAttrs(e,t);return createElement("a",Object.assign({},n),e.eventRange.def.title)}function buildTimeContent(e,t,n,a,r){let{options:s}=n;if(!1!==s.displayEventTime){let i,l=e.eventRange.def,o=e.eventRange.instance,d=!1;if(l.allDay?d=!0:isMultiDayRange(e.eventRange.range)?e.isStart?i=buildSegTimeText(e,t,n,null,null,o.range.start,e.end):e.isEnd?i=buildSegTimeText(e,t,n,null,null,e.start,o.range.end):d=!0:i=buildSegTimeText(e,t,n),d){let e={text:n.options.allDayText,view:n.viewApi};return createElement(ContentContainer,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${a} ${r}`},renderProps:e,generatorName:"allDayContent",customGenerator:s.allDayContent,defaultGenerator:renderAllDayInner,classNameGenerator:s.allDayClassNames,didMount:s.allDayDidMount,willUnmount:s.allDayWillUnmount})}return createElement("td",{className:"fc-list-event-time"},i)}return null}function renderAllDayInner(e){return e.text}class ListView extends DateComponent{constructor(){super(...arguments),this.computeDateVars=memoize(computeDateVars),this.eventStoreToSegs=memoize(this._eventStoreToSegs),this.state={timeHeaderId:getUniqueDomId(),eventHeaderId:getUniqueDomId(),dateHeaderIdRoot:getUniqueDomId()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{dayDates:n,dayRanges:a}=this.computeDateVars(e.dateProfile),r=this.eventStoreToSegs(e.eventStore,e.eventUiBases,a);return createElement(ViewContainer,{elRef:this.setRootEl,elClasses:["fc-list",t.theme.getClass("table"),!1!==t.options.stickyHeaderDates?"fc-list-sticky":""],viewSpec:t.viewSpec},createElement(Scroller,{liquid:!e.isHeightAuto,overflowX:e.isHeightAuto?"visible":"hidden",overflowY:e.isHeightAuto?"visible":"auto"},r.length>0?this.renderSegList(r,n):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,n={text:e.noEventsText,view:t};return createElement(ContentContainer,{elTag:"div",elClasses:["fc-list-empty"],renderProps:n,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:renderNoEventsInner,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},(e=>createElement(e,{elTag:"div",elClasses:["fc-list-empty-cushion"]})))}renderSegList(e,t){let{theme:n,options:a}=this.context,{timeHeaderId:r,eventHeaderId:s,dateHeaderIdRoot:i}=this.state,l=groupSegsByDay(e);return createElement(NowTimer,{unit:"day"},((e,o)=>{let d=[];for(let n=0;n<l.length;n+=1){let c=l[n];if(c){let l=formatDayString(t[n]),f=i+"-"+l;d.push(createElement(ListViewHeaderRow,{key:l,cellId:f,dayDate:t[n],todayRange:o})),c=sortEventSegs(c,a.eventOrder);for(let t of c)d.push(createElement(ListViewEventRow,Object.assign({key:l+":"+t.eventRange.instance.instanceId,seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:r,eventHeaderId:s,dateHeaderId:f},getSegMeta(t,o,e))))}}return createElement("table",{className:"fc-list-table "+n.getClass("table")},createElement("thead",null,createElement("tr",null,createElement("th",{scope:"col",id:r},a.timeHint),createElement("th",{scope:"col","aria-hidden":!0}),createElement("th",{scope:"col",id:s},a.eventHint))),createElement("tbody",null,d))}))}_eventStoreToSegs(e,t,n){return this.eventRangesToSegs(sliceEventStore(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,n)}eventRangesToSegs(e,t){let n=[];for(let a of e)n.push(...this.eventRangeToSegs(a,t));return n}eventRangeToSegs(e,t){let n,a,r,{dateEnv:s}=this.context,{nextDayThreshold:i}=this.context.options,l=e.range,o=e.def.allDay,d=[];for(n=0;n<t.length;n+=1)if(a=intersectRanges(l,t[n]),a&&(r={component:this,eventRange:e,start:a.start,end:a.end,isStart:e.isStart&&a.start.valueOf()===l.start.valueOf(),isEnd:e.isEnd&&a.end.valueOf()===l.end.valueOf(),dayIndex:n},d.push(r),!r.isEnd&&!o&&n+1<t.length&&l.end<s.add(t[n+1].start,i))){r.end=l.end,r.isEnd=!0;break}return d}}function renderNoEventsInner(e){return e.text}function computeDateVars(e){let t=startOfDay(e.renderRange.start),n=e.renderRange.end,a=[],r=[];for(;t<n;)a.push(t),r.push({start:t,end:addDays(t,1)}),t=addDays(t,1);return{dayDates:a,dayRanges:r}}function groupSegsByDay(e){let t,n,a=[];for(t=0;t<e.length;t+=1)n=e[t],(a[n.dayIndex]||(a[n.dayIndex]=[])).push(n);return a}var css_248z=':root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:"";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}';injectStyles(css_248z);export{ListView};
//# sourceMappingURL=/sm/cb9450f2369232c86ca827dc3b203d887db05a26da2fccd5ee662d0b05ea8c23.map