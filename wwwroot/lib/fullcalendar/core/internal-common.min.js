/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@fullcalendar/core@6.1.15/internal-common.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as preact from"preact";import{Component,createElement,isValidElement,Fragment}from"preact";import{createPortal}from"preact/compat";const styleTexts=[],styleEls=new Map;function injectStyles(e){styleTexts.push(e),styleEls.forEach((t=>{appendStylesTo(t,e)}))}function ensureElHasStyles(e){e.isConnected&&e.getRootNode&&registerStylesRoot(e.getRootNode())}function registerStylesRoot(e){let t=styleEls.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const n=getNonceValue();n&&(t.nonce=n);const r=e===document?document.head:e,a=e===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(t,a)}styleEls.set(e,t),hydrateStylesRoot(t)}}function hydrateStylesRoot(e){for(const t of styleTexts)appendStylesTo(e,t)}function appendStylesTo(e,t){const{sheet:n}=e,r=n.cssRules.length;t.split("}").forEach(((e,t)=>{(e=e.trim())&&n.insertRule(e+"}",r+t)}))}let queriedNonceValue;function getNonceValue(){return void 0===queriedNonceValue&&(queriedNonceValue=queryNonceValue()),queriedNonceValue}function queryNonceValue(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}"undefined"!=typeof document&&registerStylesRoot(document);var css_248z=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';injectStyles(css_248z);class DelayedRunner{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==e?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;if(e in n){if(t)delete n[e];else{n[e]-=1,n[e]<=0&&delete n[e]}this.tryDrain()}}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function removeElement(e){e.parentNode&&e.parentNode.removeChild(e)}function elementClosest(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(elementMatches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function elementMatches(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function findElements(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let e=0;e<n.length;e+=1){let a=n[e].querySelectorAll(t);for(let e=0;e<a.length;e+=1)r.push(a[e])}return r}function findDirectChildren(e,t){let n=e instanceof HTMLElement?[e]:e,r=[];for(let e=0;e<n.length;e+=1){let a=n[e].children;for(let e=0;e<a.length;e+=1){let n=a[e];t&&!elementMatches(n,t)||r.push(n)}}return r}const PIXEL_PROP_RE=/(top|left|right|bottom|width|height)$/i;function applyStyle(e,t){for(let n in t)applyStyleProp(e,n,t[n])}function applyStyleProp(e,t,n){null==n?e.style[t]="":"number"==typeof n&&PIXEL_PROP_RE.test(t)?e.style[t]=`${n}px`:e.style[t]=n}function getEventTargetViaRoot(e){var t,n;return null!==(n=null===(t=e.composedPath)||void 0===t?void 0:t.call(e)[0])&&void 0!==n?n:e.target}let guid$1=0;function getUniqueDomId(){return guid$1+=1,"fc-dom-"+guid$1}function preventDefault(e){e.preventDefault()}function buildDelegationHandler(e,t){return n=>{let r=elementClosest(n.target,e);r&&t.call(r,n,r)}}function listenBySelector(e,t,n,r){let a=buildDelegationHandler(n,r);return e.addEventListener(t,a),()=>{e.removeEventListener(t,a)}}function listenToHoverBySelector(e,t,n,r){let a;return listenBySelector(e,"mouseover",t,((e,t)=>{if(t!==a){a=t,n(e,t);let i=e=>{a=null,r(e,t),t.removeEventListener("mouseleave",i)};t.addEventListener("mouseleave",i)}}))}const transitionEventNames=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function whenTransitionDone(e,t){let n=r=>{t(r),transitionEventNames.forEach((t=>{e.removeEventListener(t,n)}))};transitionEventNames.forEach((t=>{e.addEventListener(t,n)}))}function createAriaClickAttrs(e){return Object.assign({onClick:e},createAriaKeyboardAttrs(e))}function createAriaKeyboardAttrs(e){return{tabIndex:0,onKeyDown(t){"Enter"!==t.key&&" "!==t.key||(e(t),t.preventDefault())}}}let guidNumber=0;function guid(){return guidNumber+=1,String(guidNumber)}function disableCursor(){document.body.classList.add("fc-not-allowed")}function enableCursor(){document.body.classList.remove("fc-not-allowed")}function preventSelection(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.addEventListener("selectstart",preventDefault)}function allowSelection(e){e.style.userSelect="",e.style.webkitUserSelect="",e.removeEventListener("selectstart",preventDefault)}function preventContextMenu(e){e.addEventListener("contextmenu",preventDefault)}function allowContextMenu(e){e.removeEventListener("contextmenu",preventDefault)}function parseFieldSpecs(e){let t,n,r=[],a=[];for("string"==typeof e?a=e.split(/\s*,\s*/):"function"==typeof e?a=[e]:Array.isArray(e)&&(a=e),t=0;t<a.length;t+=1)n=a[t],"string"==typeof n?r.push("-"===n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&r.push({func:n});return r}function compareByFieldSpecs(e,t,n){let r,a;for(r=0;r<n.length;r+=1)if(a=compareByFieldSpec(e,t,n[r]),a)return a;return 0}function compareByFieldSpec(e,t,n){return n.func?n.func(e,t):flexibleCompare(e[n.field],t[n.field])*(n.order||1)}function flexibleCompare(e,t){return e||t?null==t?-1:null==e?1:"string"==typeof e||"string"==typeof t?String(e).localeCompare(String(t)):e-t:0}function padStart(e,t){let n=String(e);return"000".substr(0,t-n.length)+n}function formatWithOrdinals(e,t,n){return"function"==typeof e?e(...t):"string"==typeof e?t.reduce(((e,t,n)=>e.replace("$"+n,t||"")),e):n}function compareNumbers(e,t){return e-t}function isInt(e){return e%1==0}function computeSmallestCellWidth(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),n=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+n.getBoundingClientRect().width}const INTERNAL_UNITS=["years","months","days","milliseconds"],PARSE_RE=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function createDuration(e,t){return"string"==typeof e?parseString(e):"object"==typeof e&&e?parseObject(e):"number"==typeof e?parseObject({[t||"milliseconds"]:e}):null}function parseString(e){let t=PARSE_RE.exec(e);if(t){let e=t[1]?-1:1;return{years:0,months:0,days:e*(t[2]?parseInt(t[2],10):0),milliseconds:e*(60*(t[3]?parseInt(t[3],10):0)*60*1e3+60*(t[4]?parseInt(t[4],10):0)*1e3+1e3*(t[5]?parseInt(t[5],10):0)+(t[6]?parseInt(t[6],10):0))}}return null}function parseObject(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:60*(e.hours||e.hour||0)*60*1e3+60*(e.minutes||e.minute||0)*1e3+1e3*(e.seconds||e.second||0)+(e.milliseconds||e.millisecond||e.ms||0)},n=e.weeks||e.week;return n&&(t.days+=7*n,t.specifiedWeeks=!0),t}function durationsEqual(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function asCleanDays(e){return e.years||e.months||e.milliseconds?0:e.days}function addDurations(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function subtractDurations(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function multiplyDuration(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function asRoughYears(e){return asRoughDays(e)/365}function asRoughMonths(e){return asRoughDays(e)/30}function asRoughDays(e){return asRoughMs(e)/864e5}function asRoughMinutes(e){return asRoughMs(e)/6e4}function asRoughSeconds(e){return asRoughMs(e)/1e3}function asRoughMs(e){return 31536e6*e.years+2592e6*e.months+864e5*e.days+e.milliseconds}function wholeDivideDurations(e,t){let n=null;for(let r=0;r<INTERNAL_UNITS.length;r+=1){let a=INTERNAL_UNITS[r];if(t[a]){let r=e[a]/t[a];if(!isInt(r)||null!==n&&n!==r)return null;n=r}else if(e[a])return null}return n}function greatestDurationDenominator(e){let t=e.milliseconds;if(t){if(t%1e3!=0)return{unit:"millisecond",value:t};if(t%6e4!=0)return{unit:"second",value:t/1e3};if(t%36e5!=0)return{unit:"minute",value:t/6e4};if(t)return{unit:"hour",value:t/36e5}}return e.days?e.specifiedWeeks&&e.days%7==0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function removeExact(e,t){let n=0,r=0;for(;r<e.length;)e[r]===t?(e.splice(r,1),n+=1):r+=1;return n}function isArraysEqual(e,t,n){if(e===t)return!0;let r,a=e.length;if(a!==t.length)return!1;for(r=0;r<a;r+=1)if(!(n?n(e[r],t[r]):e[r]===t[r]))return!1;return!0}const DAY_IDS=["sun","mon","tue","wed","thu","fri","sat"];function addWeeks(e,t){let n=dateToUtcArray(e);return n[2]+=7*t,arrayToUtcDate(n)}function addDays(e,t){let n=dateToUtcArray(e);return n[2]+=t,arrayToUtcDate(n)}function addMs(e,t){let n=dateToUtcArray(e);return n[6]+=t,arrayToUtcDate(n)}function diffWeeks(e,t){return diffDays(e,t)/7}function diffDays(e,t){return(t.valueOf()-e.valueOf())/864e5}function diffHours(e,t){return(t.valueOf()-e.valueOf())/36e5}function diffMinutes(e,t){return(t.valueOf()-e.valueOf())/6e4}function diffSeconds(e,t){return(t.valueOf()-e.valueOf())/1e3}function diffDayAndTime(e,t){let n=startOfDay(e),r=startOfDay(t);return{years:0,months:0,days:Math.round(diffDays(n,r)),milliseconds:t.valueOf()-r.valueOf()-(e.valueOf()-n.valueOf())}}function diffWholeWeeks(e,t){let n=diffWholeDays(e,t);return null!==n&&n%7==0?n/7:null}function diffWholeDays(e,t){return timeAsMs(e)===timeAsMs(t)?Math.round(diffDays(e,t)):null}function startOfDay(e){return arrayToUtcDate([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function startOfHour(e){return arrayToUtcDate([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function startOfMinute(e){return arrayToUtcDate([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function startOfSecond(e){return arrayToUtcDate([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function weekOfYear(e,t,n){let r=e.getUTCFullYear(),a=weekOfGivenYear(e,r,t,n);if(a<1)return weekOfGivenYear(e,r-1,t,n);let i=weekOfGivenYear(e,r+1,t,n);return i>=1?Math.min(a,i):a}function weekOfGivenYear(e,t,n,r){let a=arrayToUtcDate([t,0,1+firstWeekOffset(t,n,r)]),i=startOfDay(e),s=Math.round(diffDays(a,i));return Math.floor(s/7)+1}function firstWeekOffset(e,t,n){let r=7+t-n;return-((7+arrayToUtcDate([e,0,r]).getUTCDay()-t)%7)+r-1}function dateToLocalArray(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function arrayToLocalDate(e){return new Date(e[0],e[1]||0,null==e[2]?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function dateToUtcArray(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function arrayToUtcDate(e){return 1===e.length&&(e=e.concat([0])),new Date(Date.UTC(...e))}function isValidDate(e){return!isNaN(e.valueOf())}function timeAsMs(e){return 1e3*e.getUTCHours()*60*60+1e3*e.getUTCMinutes()*60+1e3*e.getUTCSeconds()+e.getUTCMilliseconds()}function buildIsoString(e,t,n=!1){let r=e.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(null==t?r=r.replace("Z",""):0!==t&&(r=r.replace("Z",formatTimeZoneOffset(t,!0)))),r}function formatDayString(e){return e.toISOString().replace(/T.*$/,"")}function formatIsoMonthStr(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function formatIsoTimeString(e){return padStart(e.getUTCHours(),2)+":"+padStart(e.getUTCMinutes(),2)+":"+padStart(e.getUTCSeconds(),2)}function formatTimeZoneOffset(e,t=!1){let n=e<0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),i=Math.round(r%60);return t?`${n+padStart(a,2)}:${padStart(i,2)}`:`GMT${n}${a}${i?`:${padStart(i,2)}`:""}`}function memoize(e,t,n){let r,a;return function(...i){if(r){if(!isArraysEqual(r,i)){n&&n(a);let r=e.apply(this,i);t&&t(r,a)||(a=r)}}else a=e.apply(this,i);return r=i,a}}function memoizeObjArg(e,t,n){let r,a;return i=>{if(r){if(!isPropsEqual(r,i)){n&&n(a);let r=e.call(this,i);t&&t(r,a)||(a=r)}}else a=e.call(this,i);return r=i,a}}function memoizeArraylike(e,t,n){let r=[],a=[];return i=>{let s=r.length,o=i.length,l=0;for(;l<s;l+=1)if(i[l]){if(!isArraysEqual(r[l],i[l])){n&&n(a[l]);let r=e.apply(this,i[l]);t&&t(r,a[l])||(a[l]=r)}}else n&&n(a[l]);for(;l<o;l+=1)a[l]=e.apply(this,i[l]);return r=i,a.splice(o),a}}function memoizeHashlike(e,t,n){let r={},a={};return i=>{let s={};for(let o in i)if(a[o])if(isArraysEqual(r[o],i[o]))s[o]=a[o];else{n&&n(a[o]);let r=e.apply(this,i[o]);s[o]=t&&t(r,a[o])?a[o]:r}else s[o]=e.apply(this,i[o]);return r=i,a=s,s}}const EXTENDED_SETTINGS_AND_SEVERITIES={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},STANDARD_DATE_PROP_SEVERITIES={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},MERIDIEM_RE=/\s*([ap])\.?m\.?/i,COMMA_RE=/,/g,MULTI_SPACE_RE=/\s+/g,LTR_RE=/\u200e/g,UTC_RE=/UTC|GMT/;class NativeFormatter{constructor(e){let t={},n={},r=0;for(let a in e)a in EXTENDED_SETTINGS_AND_SEVERITIES?(n[a]=e[a],r=Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[a],r)):(t[a]=e[a],a in STANDARD_DATE_PROP_SEVERITIES&&(r=Math.max(STANDARD_DATE_PROP_SEVERITIES[a],r)));this.standardDateProps=t,this.extendedSettings=n,this.severity=r,this.buildFormattingFunc=memoize(buildFormattingFunc)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,r){let{standardDateProps:a,extendedSettings:i}=this,s=computeMarkerDiffSeverity(e.marker,t.marker,n.calendarSystem);if(!s)return this.format(e,n);let o=s;!(o>1)||"numeric"!==a.year&&"2-digit"!==a.year||"numeric"!==a.month&&"2-digit"!==a.month||"numeric"!==a.day&&"2-digit"!==a.day||(o=1);let l=this.format(e,n),c=this.format(t,n);if(l===c)return l;let d=buildFormattingFunc(computePartialFormattingOptions(a,o),i,n),u=d(e),f=d(t),h=findCommonInsertion(l,u,c,f),p=i.separator||r||n.defaultSeparator||"";return h?h.before+u+p+f+h.after:l+p+c}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function buildFormattingFunc(e,t,n){let r=Object.keys(e).length;return 1===r&&"short"===e.timeZoneName?e=>formatTimeZoneOffset(e.timeZoneOffset):0===r&&t.week?e=>formatWeekNumber(n.computeWeekNumber(e.marker),n.weekText,n.weekTextLong,n.locale,t.week):buildNativeFormattingFunc(e,t,n)}function buildNativeFormattingFunc(e,t,n){e=Object.assign({},e),t=Object.assign({},t),sanitizeSettings(e,t),e.timeZone="UTC";let r,a=new Intl.DateTimeFormat(n.locale.codes,e);if(t.omitZeroMinute){let t=Object.assign({},e);delete t.minute,r=new Intl.DateTimeFormat(n.locale.codes,t)}return i=>{let s,{marker:o}=i;return s=r&&!o.getUTCMinutes()?r:a,postProcess(s.format(o),i,e,t,n)}}function sanitizeSettings(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),"long"===e.timeZoneName&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function postProcess(e,t,n,r,a){return e=e.replace(LTR_RE,""),"short"===n.timeZoneName&&(e=injectTzoStr(e,"UTC"===a.timeZone||null==t.timeZoneOffset?"UTC":formatTimeZoneOffset(t.timeZoneOffset))),r.omitCommas&&(e=e.replace(COMMA_RE,"").trim()),r.omitZeroMinute&&(e=e.replace(":00","")),!1===r.meridiem?e=e.replace(MERIDIEM_RE,"").trim():"narrow"===r.meridiem?e=e.replace(MERIDIEM_RE,((e,t)=>t.toLocaleLowerCase())):"short"===r.meridiem?e=e.replace(MERIDIEM_RE,((e,t)=>`${t.toLocaleLowerCase()}m`)):"lowercase"===r.meridiem&&(e=e.replace(MERIDIEM_RE,(e=>e.toLocaleLowerCase()))),e=(e=e.replace(MULTI_SPACE_RE," ")).trim()}function injectTzoStr(e,t){let n=!1;return e=e.replace(UTC_RE,(()=>(n=!0,t))),n||(e+=` ${t}`),e}function formatWeekNumber(e,t,n,r,a){let i=[];return"long"===a?i.push(n):"short"!==a&&"narrow"!==a||i.push(t),"long"!==a&&"short"!==a||i.push(" "),i.push(r.simpleNumberFormat.format(e)),"rtl"===r.options.direction&&i.reverse(),i.join("")}function computeMarkerDiffSeverity(e,t,n){return n.getMarkerYear(e)!==n.getMarkerYear(t)?5:n.getMarkerMonth(e)!==n.getMarkerMonth(t)?4:n.getMarkerDay(e)!==n.getMarkerDay(t)?2:timeAsMs(e)!==timeAsMs(t)?1:0}function computePartialFormattingOptions(e,t){let n={};for(let r in e)(!(r in STANDARD_DATE_PROP_SEVERITIES)||STANDARD_DATE_PROP_SEVERITIES[r]<=t)&&(n[r]=e[r]);return n}function findCommonInsertion(e,t,n,r){let a=0;for(;a<e.length;){let i=e.indexOf(t,a);if(-1===i)break;let s=e.substr(0,i);a=i+t.length;let o=e.substr(a),l=0;for(;l<n.length;){let e=n.indexOf(r,l);if(-1===e)break;let t=n.substr(0,e);l=e+r.length;let a=n.substr(l);if(s===t&&o===a)return{before:s,after:o}}}return null}function expandZonedMarker(e,t){let n=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function createVerboseFormattingArg(e,t,n,r){let a=expandZonedMarker(e,n.calendarSystem);return{date:a,start:a,end:t?expandZonedMarker(t,n.calendarSystem):null,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}class CmdFormatter{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,createVerboseFormattingArg(e,null,t,n))}formatRange(e,t,n,r){return n.cmdFormatter(this.cmdStr,createVerboseFormattingArg(e,t,n,r))}}class FuncFormatter{constructor(e){this.func=e}format(e,t,n){return this.func(createVerboseFormattingArg(e,null,t,n))}formatRange(e,t,n,r){return this.func(createVerboseFormattingArg(e,t,n,r))}}function createFormatter(e){return"object"==typeof e&&e?new NativeFormatter(e):"string"==typeof e?new CmdFormatter(e):"function"==typeof e?new FuncFormatter(e):null}const BASE_OPTION_REFINERS={navLinkDayClick:identity,navLinkWeekClick:identity,duration:createDuration,bootstrapFontAwesome:identity,buttonIcons:identity,customButtons:identity,defaultAllDayEventDuration:createDuration,defaultTimedEventDuration:createDuration,nextDayThreshold:createDuration,scrollTime:createDuration,scrollTimeReset:Boolean,slotMinTime:createDuration,slotMaxTime:createDuration,dayPopoverFormat:createFormatter,slotDuration:createDuration,snapDuration:createDuration,headerToolbar:identity,footerToolbar:identity,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:createFormatter,dayHeaderClassNames:identity,dayHeaderContent:identity,dayHeaderDidMount:identity,dayHeaderWillUnmount:identity,dayCellClassNames:identity,dayCellContent:identity,dayCellDidMount:identity,dayCellWillUnmount:identity,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:identity,weekNumbers:Boolean,weekNumberClassNames:identity,weekNumberContent:identity,weekNumberDidMount:identity,weekNumberWillUnmount:identity,editable:Boolean,viewClassNames:identity,viewDidMount:identity,viewWillUnmount:identity,nowIndicator:Boolean,nowIndicatorClassNames:identity,nowIndicatorContent:identity,nowIndicatorDidMount:identity,nowIndicatorWillUnmount:identity,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:identity,locale:identity,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:identity,eventOrder:parseFieldSpecs,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:identity,contentHeight:identity,direction:String,weekNumberFormat:createFormatter,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:identity,initialDate:identity,now:identity,eventDataTransform:identity,stickyHeaderDates:identity,stickyFooterScrollbar:identity,viewHeight:identity,defaultAllDay:Boolean,eventSourceFailure:identity,eventSourceSuccess:identity,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:identity,eventConstraint:identity,eventAllow:identity,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:identity,eventContent:identity,eventDidMount:identity,eventWillUnmount:identity,selectConstraint:identity,selectOverlap:identity,selectAllow:identity,droppable:Boolean,unselectCancel:String,slotLabelFormat:identity,slotLaneClassNames:identity,slotLaneContent:identity,slotLaneDidMount:identity,slotLaneWillUnmount:identity,slotLabelClassNames:identity,slotLabelContent:identity,slotLabelDidMount:identity,slotLabelWillUnmount:identity,dayMaxEvents:identity,dayMaxEventRows:identity,dayMinWidth:Number,slotLabelInterval:createDuration,allDayText:String,allDayClassNames:identity,allDayContent:identity,allDayDidMount:identity,allDayWillUnmount:identity,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:createFormatter,rerenderDelay:Number,moreLinkText:identity,moreLinkHint:identity,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:identity,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:createDuration,hiddenDays:identity,fixedWeekCount:Boolean,validRange:identity,visibleRange:identity,titleFormat:identity,eventInteractive:Boolean,noEventsText:String,viewHint:identity,navLinkHint:identity,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:identity,moreLinkClassNames:identity,moreLinkContent:identity,moreLinkDidMount:identity,moreLinkWillUnmount:identity,monthStartFormat:createFormatter,handleCustomRendering:identity,customRenderingMetaMap:identity,customRenderingReplaces:Boolean},BASE_OPTION_DEFAULTS={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},CALENDAR_LISTENER_REFINERS={datesSet:identity,eventsSet:identity,eventAdd:identity,eventChange:identity,eventRemove:identity,windowResize:identity,eventClick:identity,eventMouseEnter:identity,eventMouseLeave:identity,select:identity,unselect:identity,loading:identity,_unmount:identity,_beforeprint:identity,_afterprint:identity,_noEventDrop:identity,_noEventResize:identity,_resize:identity,_scrollRequest:identity},CALENDAR_OPTION_REFINERS={buttonText:identity,buttonHints:identity,views:identity,plugins:identity,initialEvents:identity,events:identity,eventSources:identity},COMPLEX_OPTION_COMPARATORS={headerToolbar:isMaybeObjectsEqual,footerToolbar:isMaybeObjectsEqual,buttonText:isMaybeObjectsEqual,buttonHints:isMaybeObjectsEqual,buttonIcons:isMaybeObjectsEqual,dateIncrement:isMaybeObjectsEqual,plugins:isMaybeArraysEqual,events:isMaybeArraysEqual,eventSources:isMaybeArraysEqual,resources:isMaybeArraysEqual};function isMaybeObjectsEqual(e,t){return"object"==typeof e&&"object"==typeof t&&e&&t?isPropsEqual(e,t):e===t}function isMaybeArraysEqual(e,t){return Array.isArray(e)&&Array.isArray(t)?isArraysEqual(e,t):e===t}const VIEW_OPTION_REFINERS={type:String,component:identity,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:identity,usesMinMaxTime:Boolean,classNames:identity,content:identity,didMount:identity,willUnmount:identity};function mergeRawOptions(e){return mergeProps(e,COMPLEX_OPTION_COMPARATORS)}function refineProps(e,t){let n={},r={};for(let r in t)r in e&&(n[r]=t[r](e[r]));for(let n in e)n in t||(r[n]=e[n]);return{refined:n,extra:r}}function identity(e){return e}const{hasOwnProperty:hasOwnProperty}=Object.prototype;function mergeProps(e,t){let n={};if(t)for(let r in t)if(t[r]===isMaybeObjectsEqual){let t=[];for(let a=e.length-1;a>=0;a-=1){let i=e[a][r];if("object"==typeof i&&i)t.unshift(i);else if(void 0!==i){n[r]=i;break}}t.length&&(n[r]=mergeProps(t))}for(let t=e.length-1;t>=0;t-=1){let r=e[t];for(let e in r)e in n||(n[e]=r[e])}return n}function filterHash(e,t){let n={};for(let r in e)t(e[r],r)&&(n[r]=e[r]);return n}function mapHash(e,t){let n={};for(let r in e)n[r]=t(e[r],r);return n}function arrayToHash(e){let t={};for(let n of e)t[n]=!0;return t}function hashValuesToArray(e){let t=[];for(let n in e)t.push(e[n]);return t}function isPropsEqual(e,t){if(e===t)return!0;for(let n in e)if(hasOwnProperty.call(e,n)&&!(n in t))return!1;for(let n in t)if(hasOwnProperty.call(t,n)&&e[n]!==t[n])return!1;return!0}const HANDLER_RE=/^on[A-Z]/;function isNonHandlerPropsEqual(e,t){const n=getUnequalProps(e,t);for(let e of n)if(!HANDLER_RE.test(e))return!1;return!0}function getUnequalProps(e,t){let n=[];for(let r in e)hasOwnProperty.call(e,r)&&(r in t||n.push(r));for(let r in t)hasOwnProperty.call(t,r)&&e[r]!==t[r]&&n.push(r);return n}function compareObjs(e,t,n={}){if(e===t)return!0;for(let r in t)if(!(r in e)||!isObjValsEqual(e[r],t[r],n[r]))return!1;for(let n in e)if(!(n in t))return!1;return!0}function isObjValsEqual(e,t,n){return e===t||!0===n||!!n&&n(e,t)}function collectFromHash(e,t=0,n,r=1){let a=[];null==n&&(n=Object.keys(e).length);for(let i=t;i<n;i+=r){let t=e[i];void 0!==t&&a.push(t)}return a}let calendarSystemClassMap={};function registerCalendarSystem(e,t){calendarSystemClassMap[e]=t}function createCalendarSystem(e){return new calendarSystemClassMap[e]}class GregorianCalendarSystem{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return arrayToUtcDate(e)}markerToArray(e){return dateToUtcArray(e)}}registerCalendarSystem("gregory",GregorianCalendarSystem);const ISO_RE=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function parse(e){let t=ISO_RE.exec(e);if(t){let e=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?1e3*Number(`0.${t[12]}`):0));if(isValidDate(e)){let n=null;return t[13]&&(n=("-"===t[15]?-1:1)*(60*Number(t[16]||0)+Number(t[18]||0))),{marker:e,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}class DateEnv{constructor(e){let t=this.timeZone=e.timeZone,n="local"!==t&&"UTC"!==t;e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=Boolean(!n||this.namedTimeZoneImpl),this.calendarSystem=createCalendarSystem(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,"ISO"===e.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof e.firstDay&&(this.weekDow=e.firstDay),"function"==typeof e.weekNumberCalculation&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=null!=e.weekText?e.weekText:e.locale.options.weekText,this.weekTextLong=(null!=e.weekTextLong?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return null===t?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):arrayToUtcDate(dateToLocalArray(new Date))}createMarkerMeta(e){if("string"==typeof e)return this.parse(e);let t=null;return"number"==typeof e?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=arrayToUtcDate(e)),null!==t&&isValidDate(t)?{marker:t,isTimeUnspecified:!1,forcedTzo:null}:null}parse(e){let t=parse(e);if(null===t)return null;let{marker:n}=t,r=null;return null!==t.timeZoneOffset&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-60*t.timeZoneOffset*1e3):r=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:r}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return timeAsMs(e)===timeAsMs(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return timeAsMs(e)===timeAsMs(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+12*(n.getMarkerYear(t)-n.getMarkerYear(e)):null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return null!==n?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),null!==n?{unit:"month",value:n}:(n=diffWholeWeeks(e,t),null!==n?{unit:"week",value:n}:(n=diffWholeDays(e,t),null!==n?{unit:"day",value:n}:(n=diffHours(e,t),isInt(n)?{unit:"hour",value:n}:(n=diffMinutes(e,t),isInt(n)?{unit:"minute",value:n}:(n=diffSeconds(e,t),isInt(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let r;return n.years&&(r=this.diffWholeYears(e,t),null!==r)?r/asRoughYears(n):n.months&&(r=this.diffWholeMonths(e,t),null!==r)?r/asRoughMonths(n):n.days&&(r=diffWholeDays(e,t),null!==r)?r/asRoughDays(n):(t.valueOf()-e.valueOf())/asRoughMs(n)}startOf(e,t){return"year"===t?this.startOfYear(e):"month"===t?this.startOfMonth(e):"week"===t?this.startOfWeek(e):"day"===t?startOfDay(e):"hour"===t?startOfHour(e):"minute"===t?startOfMinute(e):"second"===t?startOfSecond(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):weekOfYear(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:null!=n.forcedTzo?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,r={}){return r.isEndExclusive&&(t=addMs(t,-1)),n.formatRange({marker:e,timeZoneOffset:null!=r.forcedStartTzo?r.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:null!=r.forcedEndTzo?r.forcedEndTzo:this.offsetForMarker(t)},this,r.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(n=null!=t.forcedTzo?t.forcedTzo:this.offsetForMarker(e)),buildIsoString(e,n,t.omitTime)}timestampToMarker(e){return"local"===this.timeZone?arrayToUtcDate(dateToLocalArray(new Date(e))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(e)):new Date(e)}offsetForMarker(e){return"local"===this.timeZone?-arrayToLocalDate(dateToUtcArray(e)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(e)):null}toDate(e,t){return"local"===this.timeZone?arrayToLocalDate(dateToUtcArray(e)):"UTC"===this.timeZone?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(e))*60):new Date(e.valueOf()-(t||0))}}class Theme{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if("object"==typeof e&&e){for(n in t=Object.assign({},this.iconClasses),e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else!1===e&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&0!==e.indexOf(t)&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return n=t&&this.rtlIconClasses&&this.rtlIconClasses[e]||this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}function flushSync(e){e();let t=preact.options.debounceRendering,n=[];for(preact.options.debounceRendering=function(e){n.push(e)},preact.render(preact.createElement(FakeComponent,{}),document.createElement("div"));n.length;)n.shift()();preact.options.debounceRendering=t}Theme.prototype.classes={},Theme.prototype.iconClasses={},Theme.prototype.baseIconClass="",Theme.prototype.iconOverridePrefix="";class FakeComponent extends preact.Component{render(){return preact.createElement("div",{})}componentDidMount(){this.setState({})}}function createContext(e){let t=preact.createContext(e),n=t.Provider;return t.Provider=function(){let e=!this.getChildContext,t=n.apply(this,arguments);if(e){let e=[];this.shouldComponentUpdate=t=>{this.props.value!==t.value&&e.forEach((e=>{e.context=t.value,e.forceUpdate()}))},this.sub=t=>{e.push(t);let n=t.componentWillUnmount;t.componentWillUnmount=()=>{e.splice(e.indexOf(t),1),n&&n.call(t)}}}return t},t}class ScrollResponder{constructor(e,t,n,r){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=r,this.handleScrollRequest=e=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},e),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ViewContextType=createContext({});function buildViewContext(e,t,n,r,a,i,s,o,l,c,d,u,f){return{dateEnv:a,options:n,pluginHooks:s,emitter:c,dispatch:o,getCurrentData:l,calendarApi:d,viewSpec:e,viewApi:t,dateProfileGenerator:r,theme:i,isRtl:"rtl"===n.direction,addResizeHandler(e){c.on("_resize",e)},removeResizeHandler(e){c.off("_resize",e)},createScrollResponder:e=>new ScrollResponder(e,c,createDuration(n.scrollTime),n.scrollTimeReset),registerInteractiveComponent:u,unregisterInteractiveComponent:f}}class PureComponent extends Component{shouldComponentUpdate(e,t){return this.debug&&console.log(getUnequalProps(e,this.props),getUnequalProps(t,this.state)),!compareObjs(this.props,e,this.propEquality)||!compareObjs(this.state,t,this.stateEquality)}safeSetState(e){compareObjs(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}PureComponent.addPropsEquality=addPropsEquality,PureComponent.addStateEquality=addStateEquality,PureComponent.contextType=ViewContextType,PureComponent.prototype.propEquality={},PureComponent.prototype.stateEquality={};class BaseComponent extends PureComponent{}function addPropsEquality(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t}function addStateEquality(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t}function setRef(e,t){"function"==typeof e?e(t):e&&(e.current=t)}BaseComponent.contextType=ViewContextType;class ContentInjector extends BaseComponent{constructor(){super(...arguments),this.id=guid(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:n}=this.props;t.customRenderingReplaces&&hasCustomRenderingHandler(n,t)||this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&setRef(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:r,defaultGenerator:a,renderProps:i}=e,s=buildElAttrs(e,[],this.handleEl);let o,l,c=!1,d=[];if(null!=r){const e="function"==typeof r?r(i,createElement):r;if(!0===e)c=!0;else{const t=e&&"object"==typeof e;t&&"html"in e?s.dangerouslySetInnerHTML={__html:e.html}:t&&"domNodes"in e?d=Array.prototype.slice.call(e.domNodes):(t?isValidElement(e):"function"!=typeof e)?o=e:l=e}}else c=!hasCustomRenderingHandler(e.generatorName,n);return c&&a&&(o=a(i)),this.queuedDomNodes=d,this.currentGeneratorMeta=l,createElement(e.elTag,s,o)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:r}=this,{handleCustomRendering:a,customRenderingMetaMap:i}=r.options;if(a){const r=null!==(t=this.currentGeneratorMeta)&&void 0!==t?t:null==i?void 0:i[n.generatorName];r&&a(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:r},n),{elClasses:(n.elClasses||[]).filter(isTruthy)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!isArraysEqual(e,t)){t.forEach(removeElement);for(let t of e)n.appendChild(t);this.currentDomNodes=e}}}function hasCustomRenderingHandler(e,t){var n;return Boolean(t.handleCustomRendering&&e&&(null===(n=t.customRenderingMetaMap)||void 0===n?void 0:n[e]))}function buildElAttrs(e,t,n){const r=Object.assign(Object.assign({},e.elAttrs),{ref:n});return(e.elClasses||t)&&(r.className=(e.elClasses||[]).concat(t||[]).concat(r.className||[]).filter(Boolean).join(" ")),e.elStyle&&(r.style=e.elStyle),r}function isTruthy(e){return Boolean(e)}ContentInjector.addPropsEquality({elClasses:isArraysEqual,elStyle:isPropsEqual,elAttrs:isNonHandlerPropsEqual,renderProps:isPropsEqual});const RenderId=createContext(0);class ContentContainer extends Component{constructor(){super(...arguments),this.InnerContent=InnerContentInjector.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(setRef(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=generateClassNames(e.classNameGenerator,e.renderProps);if(e.children){const n=buildElAttrs(e,t,this.handleEl),r=e.children(this.InnerContent,e.renderProps,n);return e.elTag?createElement(e.elTag,n,r):r}return createElement(ContentInjector,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?null===(t=(e=this.props).didMount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;null===(t=(e=this.props).willUnmount)||void 0===t||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}function InnerContentInjector(e,t){const n=e.props;return createElement(ContentInjector,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:e.context},t))}function generateClassNames(e,t){const n="function"==typeof e?e(t):e||[];return"string"==typeof n?[n]:n}ContentContainer.contextType=RenderId;class ViewContainer extends BaseComponent{render(){let{props:e,context:t}=this,{options:n}=t,r={view:t.viewApi};return createElement(ContentContainer,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...buildViewClassNames(e.viewSpec),...e.elClasses||[]],renderProps:r,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),(()=>e.children))}}function buildViewClassNames(e){return[`fc-${e.type}-view`,"fc-view"]}function parseRange(e,t){let n=null,r=null;return e.start&&(n=t.createMarker(e.start)),e.end&&(r=t.createMarker(e.end)),n||r?n&&r&&r<n?null:{start:n,end:r}:null}function invertRanges(e,t){let n,r,a=[],{start:i}=t;for(e.sort(compareRanges),n=0;n<e.length;n+=1)r=e[n],r.start>i&&a.push({start:i,end:r.start}),r.end>i&&(i=r.end);return i<t.end&&a.push({start:i,end:t.end}),a}function compareRanges(e,t){return e.start.valueOf()-t.start.valueOf()}function intersectRanges(e,t){let{start:n,end:r}=e,a=null;return null!==t.start&&(n=null===n?t.start:new Date(Math.max(n.valueOf(),t.start.valueOf()))),null!=t.end&&(r=null===r?t.end:new Date(Math.min(r.valueOf(),t.end.valueOf()))),(null===n||null===r||n<r)&&(a={start:n,end:r}),a}function rangesEqual(e,t){return(null===e.start?null:e.start.valueOf())===(null===t.start?null:t.start.valueOf())&&(null===e.end?null:e.end.valueOf())===(null===t.end?null:t.end.valueOf())}function rangesIntersect(e,t){return(null===e.end||null===t.start||e.end>t.start)&&(null===e.start||null===t.end||e.start<t.end)}function rangeContainsRange(e,t){return(null===e.start||null!==t.start&&t.start>=e.start)&&(null===e.end||null!==t.end&&t.end<=e.end)}function rangeContainsMarker(e,t){return(null===e.start||t>=e.start)&&(null===e.end||t<e.end)}function constrainMarkerToRange(e,t){return null!=t.start&&e<t.start?t.start:null!=t.end&&e>=t.end?new Date(t.end.valueOf()-1):e}function computeAlignedDayRange(e){let t=Math.floor(diffDays(e.start,e.end))||1,n=startOfDay(e.start);return{start:n,end:addDays(n,t)}}function computeVisibleDayRange(e,t=createDuration(0)){let n=null,r=null;if(e.end){r=startOfDay(e.end);let n=e.end.valueOf()-r.valueOf();n&&n>=asRoughMs(t)&&(r=addDays(r,1))}return e.start&&(n=startOfDay(e.start),r&&r<=n&&(r=addDays(n,1))),{start:n,end:r}}function isMultiDayRange(e){let t=computeVisibleDayRange(e);return diffDays(t.start,t.end)>1}function diffDates(e,t,n,r){return"year"===r?createDuration(n.diffWholeYears(e,t),"year"):"month"===r?createDuration(n.diffWholeMonths(e,t),"month"):diffDayAndTime(e,t)}function reduceCurrentDate(e,t){return"CHANGE_DATE"===t.type?t.dateMarker:e}function getInitialDate(e,t){let n=e.initialDate;return null!=n?t.createMarker(n):getNow(e.now,t)}function getNow(e,t){return"function"==typeof e&&(e=e()),null==e?t.createNowMarker():t.createMarker(e)}class DateProfileGenerator{constructor(e){this.props=e,this.nowDate=getNow(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:r}=this.props,a=r.subtract(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,-1,n)}buildNext(e,t,n){let{dateEnv:r}=this.props,a=r.add(r.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(a,1,n)}build(e,t,n=!0){let r,a,i,s,o,l,{props:c}=this;return r=this.buildValidRange(),r=this.trimHiddenDays(r),n&&(e=constrainMarkerToRange(e,r)),a=this.buildCurrentRangeInfo(e,t),i=/^(year|month|week|day)$/.test(a.unit),s=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,i),s=this.trimHiddenDays(s),o=s,c.showNonCurrentDates||(o=intersectRanges(o,a.range)),o=this.adjustActiveRange(o),o=intersectRanges(o,r),l=rangesIntersect(a.range,r),rangeContainsMarker(s,e)||(e=s.start),{currentDate:e,validRange:r,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:i,activeRange:o,renderRange:s,slotMinTime:c.slotMinTime,slotMaxTime:c.slotMaxTime,isValid:l,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,t="function"==typeof e?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let n,{props:r}=this,a=null,i=null,s=null;return r.duration?(a=r.duration,i=r.durationUnit,s=this.buildRangeFromDuration(e,t,a,i)):(n=this.props.dayCount)?(i="day",s=this.buildRangeFromDayCount(e,t,n)):(s=this.buildCustomVisibleRange(e))?i=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(a=this.getFallbackDuration(),i=greatestDurationDenominator(a).unit,s=this.buildRangeFromDuration(e,t,a,i)),{duration:a,unit:i,range:s}}getFallbackDuration(){return createDuration({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:r,slotMaxTime:a}=this.props,{start:i,end:s}=e;return n&&(asRoughDays(r)<0&&(i=startOfDay(i),i=t.add(i,r)),asRoughDays(a)>1&&(s=startOfDay(s),s=addDays(s,-1),s=t.add(s,a))),{start:i,end:s}}buildRangeFromDuration(e,t,n,r){let a,i,s,{dateEnv:o,dateAlignment:l}=this.props;if(!l){let{dateIncrement:e}=this.props;l=e&&asRoughMs(e)<asRoughMs(n)?greatestDurationDenominator(e).unit:r}function c(){a=o.startOf(e,l),i=o.add(a,n),s={start:a,end:i}}return asRoughDays(n)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=startOfDay(a)),c(),this.trimHiddenDays(s)||(e=this.skipHiddenDays(e,t),c()),s}buildRangeFromDayCount(e,t,n){let r,{dateEnv:a,dateAlignment:i}=this.props,s=0,o=e;i&&(o=a.startOf(o,i)),o=startOfDay(o),o=this.skipHiddenDays(o,t),r=o;do{r=addDays(r,1),this.isHiddenDay(r)||(s+=1)}while(s<n);return{start:o,end:r}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,r="function"==typeof n?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,a=this.refineRange(r);return!a||null!=a.start&&null!=a.end?a:null}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let t,{dateIncrement:n}=this.props;return n||((t=this.props.dateAlignment)?createDuration(1,t):e||createDuration({days:1}))}refineRange(e){if(e){let t=parseRange(e,this.props.dateEnv);return t&&(t=computeVisibleDayRange(t)),t}return null}initHiddenDays(){let e,t=this.props.hiddenDays||[],n=[],r=0;for(!1===this.props.weekends&&t.push(0,6),e=0;e<7;e+=1)(n[e]=-1!==t.indexOf(e))||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),null==t||null==n||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=addDays(e,t);return e}}function createEventInstance(e,t,n,r){return{instanceId:guid(),defId:e,range:t,forcedStartTzo:null==n?null:n,forcedEndTzo:null==r?null:r}}function parseRecurring(e,t,n,r){for(let a=0;a<r.length;a+=1){let i=r[a].parse(e,n);if(i){let{allDay:n}=e;return null==n&&(n=t,null==n&&(n=i.allDayGuess,null==n&&(n=!1))),{allDay:n,duration:i.duration,typeData:i.typeData,typeId:a}}}return null}function expandRecurring(e,t,n){let{dateEnv:r,pluginHooks:a,options:i}=n,{defs:s,instances:o}=e;o=filterHash(o,(e=>!s[e.defId].recurringDef));for(let e in s){let n=s[e];if(n.recurringDef){let{duration:s}=n.recurringDef;s||(s=n.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let l=expandRecurringRanges(n,s,t,r,a.recurringTypes);for(let t of l){let n=createEventInstance(e,{start:t,end:r.add(t,s)});o[n.instanceId]=n}}}return{defs:s,instances:o}}function expandRecurringRanges(e,t,n,r,a){let i=a[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:r.subtract(n.start,t),end:n.end},r);return e.allDay&&(i=i.map(startOfDay)),i}const EVENT_NON_DATE_REFINERS={id:String,groupId:String,title:String,url:String,interactive:Boolean},EVENT_DATE_REFINERS={start:identity,end:identity,date:identity,allDay:Boolean},EVENT_REFINERS=Object.assign(Object.assign(Object.assign({},EVENT_NON_DATE_REFINERS),EVENT_DATE_REFINERS),{extendedProps:identity});function parseEvent(e,t,n,r,a=buildEventRefiners(n),i,s){let{refined:o,extra:l}=refineEventDef(e,n,a),c=computeIsDefaultAllDay(t,n),d=parseRecurring(o,c,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let e=parseEventDef(o,l,t?t.sourceId:"",d.allDay,Boolean(d.duration),n,i);return e.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:e,instance:null}}let u=parseSingle(o,c,n,r);if(u){let e=parseEventDef(o,l,t?t.sourceId:"",u.allDay,u.hasEnd,n,i),r=createEventInstance(e.defId,u.range,u.forcedStartTzo,u.forcedEndTzo);return s&&e.publicId&&s[e.publicId]&&(r.instanceId=s[e.publicId]),{def:e,instance:r}}return null}function refineEventDef(e,t,n=buildEventRefiners(t)){return refineProps(e,n)}function buildEventRefiners(e){return Object.assign(Object.assign(Object.assign({},EVENT_UI_REFINERS),EVENT_REFINERS),e.pluginHooks.eventRefiners)}function parseEventDef(e,t,n,r,a,i,s){let o={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(s&&e.id?s[e.id]:"")||guid(),sourceId:n,allDay:r,hasEnd:a,interactive:e.interactive,ui:createEventUi(e,i),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let t of i.pluginHooks.eventDefMemberAdders)Object.assign(o,t(e));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function parseSingle(e,t,n,r){let a,i,{allDay:s}=e,o=null,l=!1,c=null,d=null!=e.start?e.start:e.date;if(a=n.dateEnv.createMarkerMeta(d),a)o=a.marker;else if(!r)return null;return null!=e.end&&(i=n.dateEnv.createMarkerMeta(e.end)),null==s&&(s=null!=t?t:(!a||a.isTimeUnspecified)&&(!i||i.isTimeUnspecified)),s&&o&&(o=startOfDay(o)),i&&(c=i.marker,s&&(c=startOfDay(c)),o&&c<=o&&(c=null)),c?l=!0:r||(l=n.options.forceEventDuration||!1,c=n.dateEnv.add(o,s?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:s,hasEnd:l,range:{start:o,end:c},forcedStartTzo:a?a.forcedTzo:null,forcedEndTzo:i?i.forcedTzo:null}}function computeIsDefaultAllDay(e,t){let n=null;return e&&(n=e.defaultAllDay),null==n&&(n=t.options.defaultAllDay),n}function parseEvents(e,t,n,r,a,i){let s=createEmptyEventStore(),o=buildEventRefiners(n);for(let l of e){let e=parseEvent(l,t,n,r,o,a,i);e&&eventTupleToStore(e,s)}return s}function eventTupleToStore(e,t=createEmptyEventStore()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function getRelevantEvents(e,t){let n=e.instances[t];if(n){let t=e.defs[n.defId],r=filterEventStoreDefs(e,(e=>isEventDefsGrouped(t,e)));return r.defs[t.defId]=t,r.instances[n.instanceId]=n,r}return createEmptyEventStore()}function isEventDefsGrouped(e,t){return Boolean(e.groupId&&e.groupId===t.groupId)}function createEmptyEventStore(){return{defs:{},instances:{}}}function mergeEventStores(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function filterEventStoreDefs(e,t){let n=filterHash(e.defs,t),r=filterHash(e.instances,(e=>n[e.defId]));return{defs:n,instances:r}}function excludeSubEventStore(e,t){let{defs:n,instances:r}=e,a={},i={};for(let e in n)t.defs[e]||(a[e]=n[e]);for(let e in r)!t.instances[e]&&a[r[e].defId]&&(i[e]=r[e]);return{defs:a,instances:i}}function normalizeConstraint(e,t){return Array.isArray(e)?parseEvents(e,null,t,!0):"object"==typeof e&&e?parseEvents([e],null,t,!0):null!=e?String(e):null}function parseClassNames(e){return Array.isArray(e)?e:"string"==typeof e?e.split(/\s+/):[]}const EVENT_UI_REFINERS={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:identity,overlap:identity,allow:identity,className:parseClassNames,classNames:parseClassNames,color:String,backgroundColor:String,borderColor:String,textColor:String},EMPTY_EVENT_UI={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function createEventUi(e,t){let n=normalizeConstraint(e.constraint,t);return{display:e.display||null,startEditable:null!=e.startEditable?e.startEditable:e.editable,durationEditable:null!=e.durationEditable?e.durationEditable:e.editable,constraints:null!=n?[n]:[],overlap:null!=e.overlap?e.overlap:null,allows:null!=e.allow?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function combineEventUis(e){return e.reduce(combineTwoEventUis,EMPTY_EVENT_UI)}function combineTwoEventUis(e,t){return{display:null!=t.display?t.display:e.display,startEditable:null!=t.startEditable?t.startEditable:e.startEditable,durationEditable:null!=t.durationEditable?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:"boolean"==typeof t.overlap?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const EVENT_SOURCE_REFINERS={id:String,defaultAllDay:Boolean,url:String,format:String,events:identity,eventDataTransform:identity,success:identity,failure:identity};function parseEventSource(e,t,n=buildEventSourceRefiners(t)){let r;if("string"==typeof e?r={url:e}:"function"==typeof e||Array.isArray(e)?r={events:e}:"object"==typeof e&&e&&(r=e),r){let{refined:a,extra:i}=refineProps(r,n),s=buildEventSourceMeta(a,t);if(s)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:guid(),sourceDefId:s.sourceDefId,meta:s.meta,ui:createEventUi(a,t),extendedProps:i}}return null}function buildEventSourceRefiners(e){return Object.assign(Object.assign(Object.assign({},EVENT_UI_REFINERS),EVENT_SOURCE_REFINERS),e.pluginHooks.eventSourceRefiners)}function buildEventSourceMeta(e,t){let n=t.pluginHooks.eventSourceDefs;for(let t=n.length-1;t>=0;t-=1){let r=n[t].parseMeta(e);if(r)return{sourceDefId:t,meta:r}}return null}function reduceEventStore(e,t,n,r,a){switch(t.type){case"RECEIVE_EVENTS":return receiveRawEvents(e,n[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,a);case"RESET_RAW_EVENTS":return resetRawEvents(e,n[t.sourceId],t.rawEvents,r.activeRange,a);case"ADD_EVENTS":return addEvent(e,t.eventStore,r?r.activeRange:null,a);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return mergeEventStores(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?expandRecurring(e,r.activeRange,a):e;case"REMOVE_EVENTS":return excludeSubEventStore(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return excludeEventsBySourceId(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return filterEventStoreDefs(e,(e=>!e.sourceId));case"REMOVE_ALL_EVENTS":return createEmptyEventStore();default:return e}}function receiveRawEvents(e,t,n,r,a,i){if(t&&n===t.latestFetchId){let n=parseEvents(transformRawEvents(a,t,i),t,i);return r&&(n=expandRecurring(n,r,i)),mergeEventStores(excludeEventsBySourceId(e,t.sourceId),n)}return e}function resetRawEvents(e,t,n,r,a){const{defIdMap:i,instanceIdMap:s}=buildPublicIdMaps(e);return expandRecurring(parseEvents(transformRawEvents(n,t,a),t,a,!1,i,s),r,a)}function transformRawEvents(e,t,n){let r=n.options.eventDataTransform,a=t?t.eventDataTransform:null;return a&&(e=transformEachRawEvent(e,a)),r&&(e=transformEachRawEvent(e,r)),e}function transformEachRawEvent(e,t){let n;if(t){n=[];for(let r of e){let e=t(r);e?n.push(e):null==e&&n.push(r)}}else n=e;return n}function addEvent(e,t,n,r){return n&&(t=expandRecurring(t,n,r)),mergeEventStores(e,t)}function rezoneEventStoreDates(e,t,n){let{defs:r}=e,a=mapHash(e.instances,(e=>r[e.defId].allDay?e:Object.assign(Object.assign({},e),{range:{start:n.createMarker(t.toDate(e.range.start,e.forcedStartTzo)),end:n.createMarker(t.toDate(e.range.end,e.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:e.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:e.forcedEndTzo})));return{defs:r,instances:a}}function excludeEventsBySourceId(e,t){return filterEventStoreDefs(e,(e=>e.sourceId!==t))}function excludeInstances(e,t){return{defs:e.defs,instances:filterHash(e.instances,(e=>!t[e.instanceId]))}}function buildPublicIdMaps(e){const{defs:t,instances:n}=e,r={},a={};for(let e in t){const n=t[e],{publicId:a}=n;a&&(r[a]=e)}for(let e in n){const r=t[n[e].defId],{publicId:i}=r;i&&(a[i]=e)}return{defIdMap:r,instanceIdMap:a}}class Emitter{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){addToHash(this.handlers,e,t)}off(e,t){removeFromHash(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],r=this.options&&this.options[e],a=[].concat(r||[],n);for(let e of a)e.apply(this.thisContext,t)}hasHandlers(e){return Boolean(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function addToHash(e,t,n){(e[t]||(e[t]=[])).push(n)}function removeFromHash(e,t,n){n?e[t]&&(e[t]=e[t].filter((e=>e!==n))):delete e[t]}const DEF_DEFAULTS={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function parseBusinessHours(e,t){return parseEvents(refineInputs(e),null,t)}function refineInputs(e){let t;return t=!0===e?[{}]:Array.isArray(e)?e.filter((e=>e.daysOfWeek)):"object"==typeof e&&e?[e]:[],t=t.map((e=>Object.assign(Object.assign({},DEF_DEFAULTS),e))),t}function triggerDateSelect(e,t,n){n.emitter.trigger("select",Object.assign(Object.assign({},buildDateSpanApiWithContext(e,n)),{jsEvent:t?t.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function triggerDateUnselect(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function buildDateSpanApiWithContext(e,t){let n={};for(let r of t.pluginHooks.dateSpanTransforms)Object.assign(n,r(e,t));return Object.assign(n,buildDateSpanApi(e,t.dateEnv)),n}function getDefaultEventEnd(e,t,n){let{dateEnv:r,options:a}=n,i=t;return e?(i=startOfDay(i),i=r.add(i,a.defaultAllDayEventDuration)):i=r.add(i,a.defaultTimedEventDuration),i}function applyMutationToEventStore(e,t,n,r){let a=compileEventUis(e.defs,t),i=createEmptyEventStore();for(let t in e.defs){let s=e.defs[t];i.defs[t]=applyMutationToEventDef(s,a[t],n,r)}for(let t in e.instances){let s=e.instances[t],o=i.defs[s.defId];i.instances[t]=applyMutationToEventInstance(s,o,a[s.defId],n,r)}return i}function applyMutationToEventDef(e,t,n,r){let a=n.standardProps||{};null==a.hasEnd&&t.durationEditable&&(n.startDelta||n.endDelta)&&(a.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},e),a),{ui:Object.assign(Object.assign({},e.ui),a.ui)});n.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),n.extendedProps));for(let e of r.pluginHooks.eventDefMutationAppliers)e(i,n,r);return!i.hasEnd&&r.options.forceEventDuration&&(i.hasEnd=!0),i}function applyMutationToEventInstance(e,t,n,r,a){let{dateEnv:i}=a,s=r.standardProps&&!0===r.standardProps.allDay,o=r.standardProps&&!1===r.standardProps.hasEnd,l=Object.assign({},e);return s&&(l.range=computeAlignedDayRange(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:i.add(l.range.start,r.datesDelta),end:i.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:i.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:i.add(l.range.end,r.endDelta)}),o&&(l.range={start:l.range.start,end:getDefaultEventEnd(t.allDay,l.range.start,a)}),t.allDay&&(l.range={start:startOfDay(l.range.start),end:startOfDay(l.range.end)}),l.range.end<l.range.start&&(l.range.end=getDefaultEventEnd(t.allDay,l.range.start,a)),l}class EventSourceImpl{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class EventImpl{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in EVENT_DATE_REFINERS)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===e)t=EVENT_NON_DATE_REFINERS[e](t),this.mutate({standardProps:{publicId:t}});else if(e in EVENT_NON_DATE_REFINERS)t=EVENT_NON_DATE_REFINERS[e](t),this.mutate({standardProps:{[e]:t}});else if(e in EVENT_UI_REFINERS){let n=EVENT_UI_REFINERS[e](t);n="color"===e?{backgroundColor:t,borderColor:t}:"editable"===e?{startEditable:t,durationEditable:t}:{[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,r=n.createMarker(e);if(r&&this._instance){let e=diffDates(this._instance.range.start,r,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:e}):this.mutate({startDelta:e})}}setEnd(e,t={}){let n,{dateEnv:r}=this._context;if((null==e||(n=r.createMarker(e),n))&&this._instance)if(n){let e=diffDates(this._instance.range.end,n,r,t.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let r,{dateEnv:a}=this._context,i={allDay:n.allDay},s=a.createMarker(e);if(s&&(null==t||(r=a.createMarker(t),r))&&this._instance){let e=this._instance.range;!0===n.allDay&&(e=computeAlignedDayRange(e));let t=diffDates(e.start,s,a,n.granularity);if(r){let s=diffDates(e.end,r,a,n.granularity);durationsEqual(t,s)?this.mutate({datesDelta:t,standardProps:i}):this.mutate({startDelta:t,endDelta:s,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:t,standardProps:i})}}moveStart(e){let t=createDuration(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=createDuration(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=createDuration(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:r}=t;null==r&&(r=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=r),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,r=createFormatter(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,r,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,r,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,r=this._context,{eventStore:a}=r.getCurrentData(),i=getRelevantEvents(a,t.instanceId);i=applyMutationToEventStore(i,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,r);let s=new EventImpl(r,n,t);this._def=i.defs[n.defId],this._instance=i.instances[t.instanceId],r.dispatch({type:"MERGE_EVENTS",eventStore:i}),r.emitter.trigger("eventChange",{oldEvent:s,event:this,relatedEvents:buildEventApis(i,r,t),revert(){r.dispatch({type:"RESET_EVENTS",eventStore:a})}})}}remove(){let e=this._context,t=eventApiToStore(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new EventSourceImpl(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:r,endStr:a}=this,i={allDay:t.allDay};return t.title&&(i.title=t.title),r&&(i.start=r),a&&(i.end=a),t.publicId&&(i.id=t.publicId),t.groupId&&(i.groupId=t.groupId),t.url&&(i.url=t.url),n.display&&"auto"!==n.display&&(i.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?i.color=n.backgroundColor:(n.backgroundColor&&(i.backgroundColor=n.backgroundColor),n.borderColor&&(i.borderColor=n.borderColor)),n.textColor&&(i.textColor=n.textColor),n.classNames.length&&(i.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(i,t.extendedProps):i.extendedProps=t.extendedProps),i}toJSON(){return this.toPlainObject()}}function eventApiToStore(e){let t=e._def,n=e._instance;return{defs:{[t.defId]:t},instances:n?{[n.instanceId]:n}:{}}}function buildEventApis(e,t,n){let{defs:r,instances:a}=e,i=[],s=n?n.instanceId:"";for(let e in a){let n=a[e],o=r[n.defId];n.instanceId!==s&&i.push(new EventImpl(t,o,n))}return i}function sliceEventStore(e,t,n,r){let a={},i={},s={},o=[],l=[],c=compileEventUis(e.defs,t);for(let t in e.defs){let n=e.defs[t];"inverse-background"===c[n.defId].display&&(n.groupId?(a[n.groupId]=[],s[n.groupId]||(s[n.groupId]=n)):i[t]=[])}for(let t in e.instances){let s=e.instances[t],d=e.defs[s.defId],u=c[d.defId],f=s.range,h=!d.allDay&&r?computeVisibleDayRange(f,r):f,p=intersectRanges(h,n);p&&("inverse-background"===u.display?d.groupId?a[d.groupId].push(p):i[s.defId].push(p):"none"!==u.display&&("background"===u.display?o:l).push({def:d,ui:u,instance:s,range:p,isStart:h.start&&h.start.valueOf()===p.start.valueOf(),isEnd:h.end&&h.end.valueOf()===p.end.valueOf()}))}for(let e in a){let t=invertRanges(a[e],n);for(let n of t){let t=s[e],r=c[t.defId];o.push({def:t,ui:r,instance:null,range:n,isStart:!1,isEnd:!1})}}for(let t in i){let r=invertRanges(i[t],n);for(let n of r)o.push({def:e.defs[t],ui:c[t],instance:null,range:n,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function hasBgRendering(e){return"background"===e.ui.display||"inverse-background"===e.ui.display}function setElSeg(e,t){e.fcSeg=t}function getElSeg(e){return e.fcSeg||e.parentNode.fcSeg||null}function compileEventUis(e,t){return mapHash(e,(e=>compileEventUi(e,t)))}function compileEventUi(e,t){let n=[];return t[""]&&n.push(t[""]),t[e.defId]&&n.push(t[e.defId]),n.push(e.ui),combineEventUis(n)}function sortEventSegs(e,t){let n=e.map(buildSegCompareObj);return n.sort(((e,n)=>compareByFieldSpecs(e,n,t))),n.map((e=>e._seg))}function buildSegCompareObj(e){let{eventRange:t}=e,n=t.def,r=t.instance?t.instance.range:t.range,a=r.start?r.start.valueOf():0,i=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:a,end:i,duration:i-a,allDay:Number(n.allDay),_seg:e})}function computeSegDraggable(e,t){let{pluginHooks:n}=t,r=n.isDraggableTransformers,{def:a,ui:i}=e.eventRange,s=i.startEditable;for(let e of r)s=e(s,a,i,t);return s}function computeSegStartResizable(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function computeSegEndResizable(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function buildSegTimeText(e,t,n,r,a,i,s){let{dateEnv:o,options:l}=n,{displayEventTime:c,displayEventEnd:d}=l,u=e.eventRange.def,f=e.eventRange.instance;null==c&&(c=!1!==r),null==d&&(d=!1!==a);let h=f.range.start,p=f.range.end,g=i||e.start||e.eventRange.range.start,m=s||e.end||e.eventRange.range.end,A=startOfDay(h).valueOf()===startOfDay(g).valueOf(),y=startOfDay(addMs(p,-1)).valueOf()===startOfDay(addMs(m,-1)).valueOf();return c&&!u.allDay&&(A||y)?(g=A?h:g,m=y?p:m,d&&u.hasEnd?o.formatRange(g,m,t,{forcedStartTzo:i?null:f.forcedStartTzo,forcedEndTzo:s?null:f.forcedEndTzo}):o.format(g,t,{forcedTzo:i?null:f.forcedStartTzo})):""}function getSegMeta(e,t,n){let r=e.eventRange.range;return{isPast:r.end<=(n||t.start),isFuture:r.start>=(n||t.end),isToday:t&&rangeContainsMarker(t,r.start)}}function getEventClassNames(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function buildEventRangeKey(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function getSegAnchorAttrs(e,t){let{def:n,instance:r}=e.eventRange,{url:a}=n;if(a)return{href:a};let{emitter:i,options:s}=t,{eventInteractive:o}=s;return null==o&&(o=n.interactive,null==o&&(o=Boolean(i.hasHandlers("eventClick")))),o?createAriaKeyboardAttrs((e=>{i.trigger("eventClick",{el:e.target,event:new EventImpl(t,n,r),jsEvent:e,view:t.viewApi})})):{}}const STANDARD_PROPS={start:identity,end:identity,allDay:Boolean};function parseDateSpan(e,t,n){let r=parseOpenDateSpan(e,t),{range:a}=r;if(!a.start)return null;if(!a.end){if(null==n)return null;a.end=t.add(a.start,n)}return r}function parseOpenDateSpan(e,t){let{refined:n,extra:r}=refineProps(e,STANDARD_PROPS),a=n.start?t.createMarkerMeta(n.start):null,i=n.end?t.createMarkerMeta(n.end):null,{allDay:s}=n;return null==s&&(s=a&&a.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:i?i.marker:null},allDay:s},r)}function isDateSpansEqual(e,t){return rangesEqual(e.range,t.range)&&e.allDay===t.allDay&&isSpanPropsEqual(e,t)}function isSpanPropsEqual(e,t){for(let n in t)if("range"!==n&&"allDay"!==n&&e[n]!==t[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}function buildDateSpanApi(e,t){return Object.assign(Object.assign({},buildRangeApi(e.range,t,e.allDay)),{allDay:e.allDay})}function buildRangeApiWithTimeZone(e,t,n){return Object.assign(Object.assign({},buildRangeApi(e,t,n)),{timeZone:t.timeZone})}function buildRangeApi(e,t,n){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:n}),endStr:t.formatIso(e.end,{omitTime:n})}}function fabricateEventRange(e,t,n){let r=refineEventDef({editable:!1},n),a=parseEventDef(r.refined,r.extra,"",e.allDay,!0,n);return{def:a,ui:compileEventUi(a,t),instance:createEventInstance(a.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function unpromisify(e,t,n){let r=!1,a=function(e){r||(r=!0,t(e))},i=function(e){r||(r=!0,n(e))},s=e(a,i);s&&"function"==typeof s.then&&s.then(a,i)}class JsonRequestError extends Error{constructor(e,t){super(e),this.response=t}}function requestJson(e,t,n){const r={method:e=e.toUpperCase()};return"GET"===e?t+=(-1===t.indexOf("?")?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,r).then((e=>{if(e.ok)return e.json().then((t=>[t,e]),(()=>{throw new JsonRequestError("Failure parsing JSON",e)}));throw new JsonRequestError("Request failed",e)}))}let canVGrowWithinCell;function getCanVGrowWithinCell(){return null==canVGrowWithinCell&&(canVGrowWithinCell=computeCanVGrowWithinCell()),canVGrowWithinCell}function computeCanVGrowWithinCell(){if("undefined"==typeof document)return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let t=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),t}class CalendarRoot extends BaseComponent{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{flushSync((()=>{this.setState({forPrint:!0})}))},this.handleAfterPrint=()=>{flushSync((()=>{this.setState({forPrint:!1})}))}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,r=n||"auto"===t.height||"auto"===t.contentHeight,a=r||null==t.height?"":t.height,i=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return getCanVGrowWithinCell()||i.push("fc-liquid-hack"),e.children(i,a,r,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Interaction{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function parseInteractionSettings(e,t){return{component:e,el:t.el,useEventCenter:null==t.useEventCenter||t.useEventCenter,isHitComboAllowed:t.isHitComboAllowed||null}}function interactionSettingsToStore(e){return{[e.component.uid]:e}}const interactionSettingsStore={};class CalendarImpl{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering((()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})}))}zoomTo(e,t){let n;t=t||"day",n=this.getCurrentData().viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),n?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:n.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let t,n,{viewSpecs:r,toolbarConfig:a}=this.getCurrentData(),i=[].concat(a.header?a.header.viewsWithButtons:[],a.footer?a.footer.viewsWithButtons:[]);for(let e in r)i.push(e);for(t=0;t<i.length;t+=1)if(n=r[i[t]],n&&n.singleUnit===e)return n;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:getNow(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=createDuration(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),createFormatter(t))}formatRange(e,t,n){let{dateEnv:r}=this.getCurrentData();return r.formatRange(r.createMarker(e),r.createMarker(t),createFormatter(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;n=null==t?null!=e.start?e:{start:e,end:null}:{start:e,end:t};let r=this.getCurrentData(),a=parseDateSpan(n,r.dateEnv,createDuration({days:1}));a&&(this.dispatch({type:"SELECT_DATES",selection:a}),triggerDateSelect(a,null,r))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),triggerDateUnselect(e,t))}addEvent(e,t){if(e instanceof EventImpl){let t=e._def,n=e._instance;return this.getCurrentData().eventStore.defs[t.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore({def:t,instance:n})}),this.triggerEventAdd(e)),e}let n,r=this.getCurrentData();if(t instanceof EventSourceImpl)n=t.internalEventSource;else if("boolean"==typeof t)t&&([n]=hashValuesToArray(r.eventSources));else if(null!=t){let e=this.getEventSourceById(t);if(!e)return console.warn(`Could not find an event source with ID "${t}"`),null;n=e.internalEventSource}let a=parseEvent(e,n,r,!1);if(a){let e=new EventImpl(r,a.def,a.def.recurringDef?null:a.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore(a)}),this.triggerEventAdd(e),e}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:eventApiToStore(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:r}=t.eventStore;e=String(e);for(let a in n){let i=n[a];if(i.publicId===e){if(i.recurringDef)return new EventImpl(t,i,null);for(let e in r){let n=r[e];if(n.defId===i.defId)return new EventImpl(t,i,n)}}}return null}getEvents(){let e=this.getCurrentData();return buildEventApis(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let r in t)n.push(new EventSourceImpl(e,t[r]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let r in n)if(n[r].publicId===e)return new EventSourceImpl(t,n[r]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof EventSourceImpl)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=parseEventSource(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new EventSourceImpl(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=createDuration(e);t&&this.trigger("_scrollRequest",{time:t})}}function pointInsideRect(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function intersectRects(e,t){let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function translateRect(e,t,n){return{left:e.left+t,right:e.right+t,top:e.top+n,bottom:e.bottom+n}}function constrainPoint(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function getRectCenter(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function diffPoints(e,t){return{left:e.left-t.left,top:e.top-t.top}}const EMPTY_EVENT_STORE=createEmptyEventStore();class Splitter{constructor(){this.getKeysForEventDefs=memoize(this._getKeysForEventDefs),this.splitDateSelection=memoize(this._splitDateSpan),this.splitEventStore=memoize(this._splitEventStore),this.splitIndividualUi=memoize(this._splitIndividualUi),this.splitEventDrag=memoize(this._splitInteraction),this.splitEventResize=memoize(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),r=this.splitDateSelection(e.dateSelection),a=this.splitIndividualUi(e.eventUiBases,n),i=this.splitEventStore(e.eventStore,n),s=this.splitEventDrag(e.eventDrag),o=this.splitEventResize(e.eventResize),l={};this.eventUiBuilders=mapHash(t,((e,t)=>this.eventUiBuilders[t]||memoize(buildEventUiForKey)));for(let n in t){let c=t[n],d=i[n]||EMPTY_EVENT_STORE,u=this.eventUiBuilders[n];l[n]={businessHours:c.businessHours||e.businessHours,dateSelection:r[n]||null,eventStore:d,eventUiBases:u(e.eventUiBases[""],c.ui,a[n]),eventSelection:d.instances[e.eventSelection]?e.eventSelection:"",eventDrag:s[n]||null,eventResize:o[n]||null}}return l}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let r of n)t[r]=e}return t}_getKeysForEventDefs(e){return mapHash(e.defs,(e=>this.getKeysForEventDef(e)))}_splitEventStore(e,t){let{defs:n,instances:r}=e,a={};for(let e in n)for(let r of t[e])a[r]||(a[r]=createEmptyEventStore()),a[r].defs[e]=n[e];for(let e in r){let n=r[e];for(let r of t[n.defId])a[r]&&(a[r].instances[e]=n)}return a}_splitIndividualUi(e,t){let n={};for(let r in e)if(r)for(let a of t[r])n[a]||(n[a]={}),n[a][r]=e[r];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),r=this._getKeysForEventDefs(e.mutatedEvents),a=this._splitEventStore(e.mutatedEvents,r),i=r=>{t[r]||(t[r]={affectedEvents:n[r]||EMPTY_EVENT_STORE,mutatedEvents:a[r]||EMPTY_EVENT_STORE,isEvent:e.isEvent})};for(let e in n)i(e);for(let e in a)i(e)}return t}}function buildEventUiForKey(e,t,n){let r=[];e&&r.push(e),t&&r.push(t);let a={"":combineEventUis(r)};return n&&Object.assign(a,n),a}function getDateMeta(e,t,n,r){return{dow:e.getUTCDay(),isDisabled:Boolean(r&&!rangeContainsMarker(r.activeRange,e)),isOther:Boolean(r&&!rangeContainsMarker(r.currentRange,e)),isToday:Boolean(t&&rangeContainsMarker(t,e)),isPast:Boolean(n?e<n:!!t&&e<t.start),isFuture:Boolean(n?e>n:!!t&&e>=t.end)}}function getDayClassNames(e,t){let n=["fc-day",`fc-day-${DAY_IDS[e.dow]}`];return e.isDisabled?n.push("fc-day-disabled"):(e.isToday&&(n.push("fc-day-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-day-past"),e.isFuture&&n.push("fc-day-future"),e.isOther&&n.push("fc-day-other")),n}function getSlotClassNames(e,t){let n=["fc-slot",`fc-slot-${DAY_IDS[e.dow]}`];return e.isDisabled?n.push("fc-slot-disabled"):(e.isToday&&(n.push("fc-slot-today"),n.push(t.getClass("today"))),e.isPast&&n.push("fc-slot-past"),e.isFuture&&n.push("fc-slot-future")),n}const DAY_FORMAT=createFormatter({year:"numeric",month:"long",day:"numeric"}),WEEK_FORMAT=createFormatter({week:"long"});function buildNavLinkAttrs(e,t,n="day",r=!0){const{dateEnv:a,options:i,calendarApi:s}=e;let o=a.format(t,"week"===n?WEEK_FORMAT:DAY_FORMAT);if(i.navLinks){let e=a.toDate(t);const l=e=>{let r="day"===n?i.navLinkDayClick:"week"===n?i.navLinkWeekClick:null;"function"==typeof r?r.call(s,a.toDate(t),e):("string"==typeof r&&(n=r),s.zoomTo(t,n))};return Object.assign({title:formatWithOrdinals(i.navLinkHint,[o,e],o),"data-navlink":""},r?createAriaClickAttrs(l):{onClick:l})}return{"aria-label":o}}let _scrollbarWidths,_isRtlScrollbarOnLeft=null;function getIsRtlScrollbarOnLeft(){return null===_isRtlScrollbarOnLeft&&(_isRtlScrollbarOnLeft=computeIsRtlScrollbarOnLeft()),_isRtlScrollbarOnLeft}function computeIsRtlScrollbarOnLeft(){let e=document.createElement("div");applyStyle(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let t=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return removeElement(e),t}function getScrollbarWidths(){return _scrollbarWidths||(_scrollbarWidths=computeScrollbarWidths()),_scrollbarWidths}function computeScrollbarWidths(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=computeScrollbarWidthsForEl(e);return document.body.removeChild(e),t}function computeScrollbarWidthsForEl(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function computeEdges(e,t=!1){let n=window.getComputedStyle(e),r=parseInt(n.borderLeftWidth,10)||0,a=parseInt(n.borderRightWidth,10)||0,i=parseInt(n.borderTopWidth,10)||0,s=parseInt(n.borderBottomWidth,10)||0,o=computeScrollbarWidthsForEl(e),l=o.y-r-a,c={borderLeft:r,borderRight:a,borderTop:i,borderBottom:s,scrollbarBottom:o.x-i-s,scrollbarLeft:0,scrollbarRight:0};return getIsRtlScrollbarOnLeft()&&"rtl"===n.direction?c.scrollbarLeft=l:c.scrollbarRight=l,t&&(c.paddingLeft=parseInt(n.paddingLeft,10)||0,c.paddingRight=parseInt(n.paddingRight,10)||0,c.paddingTop=parseInt(n.paddingTop,10)||0,c.paddingBottom=parseInt(n.paddingBottom,10)||0),c}function computeInnerRect(e,t=!1,n){let r=n?e.getBoundingClientRect():computeRect(e),a=computeEdges(e,t),i={left:r.left+a.borderLeft+a.scrollbarLeft,right:r.right-a.borderRight-a.scrollbarRight,top:r.top+a.borderTop,bottom:r.bottom-a.borderBottom-a.scrollbarBottom};return t&&(i.left+=a.paddingLeft,i.right-=a.paddingRight,i.top+=a.paddingTop,i.bottom-=a.paddingBottom),i}function computeRect(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function computeClippedClientRect(e){let t=getClippingParents(e),n=e.getBoundingClientRect();for(let e of t){let t=intersectRects(n,e.getBoundingClientRect());if(!t)return null;n=t}return n}function getClippingParents(e){let t=[];for(;e instanceof HTMLElement;){let n=window.getComputedStyle(e);if("fixed"===n.position)break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&t.push(e),e=e.parentNode}return t}class PositionCache{constructor(e,t,n,r){this.els=t;let a=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(a.left),r&&this.buildElVerticals(a.top)}buildElHorizontals(e){let t=[],n=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.left-e),n.push(a.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let r of this.els){let a=r.getBoundingClientRect();t.push(a.top-e),n.push(a.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let t,{lefts:n,rights:r}=this,a=n.length;for(t=0;t<a;t+=1)if(e>=n[t]&&e<r[t])return t}topToIndex(e){let t,{tops:n,bottoms:r}=this,a=n.length;for(t=0;t<a;t+=1)if(e>=n[t]&&e<r[t])return t}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return similarNumArrays(this.tops||[],e.tops||[])&&similarNumArrays(this.bottoms||[],e.bottoms||[])&&similarNumArrays(this.lefts||[],e.lefts||[])&&similarNumArrays(this.rights||[],e.rights||[])}}function similarNumArrays(e,t){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(Math.round(e[r])!==Math.round(t[r]))return!1;return!0}class ScrollController{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class ElementScrollController extends ScrollController{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class WindowScrollController extends ScrollController{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class DateComponent extends BaseComponent{constructor(){super(...arguments),this.uid=guid()}prepareHits(){}queryHit(e,t,n,r){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!elementClosest(e,".fc-event-mirror")}isValidDateDownEl(e){return!(elementClosest(e,".fc-event:not(.fc-bg-event)")||elementClosest(e,".fc-more-link")||elementClosest(e,"a[data-navlink]")||elementClosest(e,".fc-popover"))}}class NamedTimeZoneImpl{constructor(e){this.timeZoneName=e}}class SegHierarchy{constructor(e=e=>e.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(-1===this.maxCoord||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(-1===this.maxStackCnt||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){const r=Object.assign(Object.assign({},t),{span:intersectSpans(t.span,e.touchingEntry.span)});n.push(r),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let r=e.span,a=t.span;r.start<a.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:r.start,end:a.start}},n),r.end>a.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.end,end:r.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:r}=this;-1===t.lateral?(insertAt(r,t.level,t.levelCoord),insertAt(n,t.level,[e])):insertAt(n[t.level],t.lateral,e),this.stackCnts[buildEntryKey(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:r,stackCnts:a}=this,i=t.length,s=0,o=-1,l=-1,c=null,d=0;for(let u=0;u<i;u+=1){const i=t[u];if(!r&&i>=s+this.getEntryThickness(e))break;let f,h=n[u],p=binarySearch(h,e.span.start,getEntrySpanEnd),g=p[0]+p[1];for(;(f=h[g])&&f.span.start<e.span.end;){let e=i+this.getEntryThickness(f);e>s&&(s=e,c=f,o=u,l=g),e===s&&(d=Math.max(d,a[buildEntryKey(f)]+1)),g+=1}}let u=0;if(c)for(u=o+1;u<i&&t[u]<s;)u+=1;let f=-1;return u<i&&t[u]===s&&(f=binarySearch(n[u],e.span.end,getEntrySpanEnd)[0]),{touchingLevel:o,touchingLateral:l,touchingEntry:c,stackCnt:d,levelCoord:s,level:u,lateral:f}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,r=[];for(let a=0;a<n;a+=1){let n=e[a],i=t[a];for(let e of n)r.push(Object.assign(Object.assign({},e),{thickness:this.getEntryThickness(e),levelCoord:i}))}return r}}function getEntrySpanEnd(e){return e.span.end}function buildEntryKey(e){return e.index+":"+e.span.start}function groupIntersectingEntries(e){let t=[];for(let n of e){let e=[],r={span:n.span,entries:[n]};for(let n of t)intersectSpans(n.span,r.span)?r={entries:n.entries.concat(r.entries),span:joinSpans(n.span,r.span)}:e.push(n);e.push(r),t=e}return t}function joinSpans(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function intersectSpans(e,t){let n=Math.max(e.start,t.start),r=Math.min(e.end,t.end);return n<r?{start:n,end:r}:null}function insertAt(e,t,n){e.splice(t,0,n)}function binarySearch(e,t,n){let r=0,a=e.length;if(!a||t<n(e[r]))return[0,0];if(t>n(e[a-1]))return[a,0];for(;r<a;){let i=Math.floor(r+(a-r)/2),s=n(e[i]);if(t<s)a=i;else{if(!(t>s))return[i,1];r=i+1}}return[r,0]}class ElementDragging{constructor(e,t){this.emitter=new Emitter}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const config={},DRAG_META_REFINERS={startTime:createDuration,duration:createDuration,create:Boolean,sourceId:String};function parseDragMeta(e){let{refined:t,extra:n}=refineProps(e,DRAG_META_REFINERS);return{startTime:t.startTime||null,duration:t.duration||null,create:null==t.create||t.create,sourceId:t.sourceId,leftoverProps:n}}function computeFallbackHeaderFormat(e,t){return createFormatter(!e||t>10?{weekday:"short"}:t>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}const CLASS_NAME="fc-col-header-cell";function renderInner$1(e){return e.text}class TableDateCell extends BaseComponent{render(){let{dateEnv:e,options:t,theme:n,viewApi:r}=this.context,{props:a}=this,{date:i,dateProfile:s}=a,o=getDateMeta(i,a.todayRange,null,s),l=[CLASS_NAME].concat(getDayClassNames(o,n)),c=e.format(i,a.dayHeaderFormat),d=!o.isDisabled&&a.colCnt>1?buildNavLinkAttrs(this.context,i):{},u=Object.assign(Object.assign(Object.assign({date:e.toDate(i),view:r},a.extraRenderProps),{text:c}),o);return createElement(ContentContainer,{elTag:"th",elClasses:l,elAttrs:Object.assign({role:"columnheader",colSpan:a.colSpan,"data-date":o.isDisabled?void 0:formatDayString(i)},a.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:renderInner$1,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},(e=>createElement("div",{className:"fc-scrollgrid-sync-inner"},!o.isDisabled&&createElement(e,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",a.isSticky&&"fc-sticky"]}))))}}const WEEKDAY_FORMAT=createFormatter({weekday:"long"});class TableDowCell extends BaseComponent{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:r,options:a}=this.context,i=addDays(new Date(2592e5),e.dow),s={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},o=t.format(i,e.dayHeaderFormat),l=Object.assign(Object.assign(Object.assign(Object.assign({date:i},s),{view:r}),e.extraRenderProps),{text:o});return createElement(ContentContainer,{elTag:"th",elClasses:[CLASS_NAME,...getDayClassNames(s,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:l,generatorName:"dayHeaderContent",customGenerator:a.dayHeaderContent,defaultGenerator:renderInner$1,classNameGenerator:a.dayHeaderClassNames,didMount:a.dayHeaderDidMount,willUnmount:a.dayHeaderWillUnmount},(n=>createElement("div",{className:"fc-scrollgrid-sync-inner"},createElement(n,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(i,WEEKDAY_FORMAT)}}))))}}class NowTimer extends Component{constructor(e,t){super(e,t),this.initialNowDate=getNow(t.options.now,t.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:e,context:t}=this,n=addMs(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),r=t.dateEnv.startOf(n,e.unit),a=t.dateEnv.add(r,createDuration(1,e.unit)),i=a.valueOf()-n.valueOf();return i=Math.min(864e5,i),{currentState:{nowDate:r,todayRange:buildDayRange(r)},nextState:{nowDate:a,todayRange:buildDayRange(a)},waitMs:i}}setTimeout(){let{nextState:e,waitMs:t}=this.computeTiming();this.timeoutId=setTimeout((()=>{this.setState(e,(()=>{this.setTimeout()}))}),t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function buildDayRange(e){let t=startOfDay(e);return{start:t,end:addDays(t,1)}}NowTimer.contextType=ViewContextType;class DayHeader extends BaseComponent{constructor(){super(...arguments),this.createDayHeaderFormatter=memoize(createDayHeaderFormatter)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:r,renderIntro:a}=this.props,i=this.createDayHeaderFormatter(e.options.dayHeaderFormat,r,t.length);return createElement(NowTimer,{unit:"day"},((e,s)=>createElement("tr",{role:"row"},a&&a("day"),t.map((e=>r?createElement(TableDateCell,{key:e.toISOString(),date:e,dateProfile:n,todayRange:s,colCnt:t.length,dayHeaderFormat:i}):createElement(TableDowCell,{key:e.getUTCDay(),dow:e.getUTCDay(),dayHeaderFormat:i}))))))}}function createDayHeaderFormatter(e,t,n){return e||computeFallbackHeaderFormat(t,n)}class DaySeriesModel{constructor(e,t){let n=e.start,{end:r}=e,a=[],i=[],s=-1;for(;n<r;)t.isHiddenDay(n)?a.push(s+.5):(s+=1,a.push(s),i.push(n)),n=addDays(n,1);this.dates=i,this.indices=a,this.cnt=i.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(addDays(e.end,-1)),r=Math.max(0,t),a=Math.min(this.cnt-1,n);return r=Math.ceil(r),a=Math.floor(a),r<=a?{firstIndex:r,lastIndex:a,isStart:t===r,isEnd:n===a}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(diffDays(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class DayTableModel{constructor(e,t){let n,r,a,{dates:i}=e;if(t){for(r=i[0].getUTCDay(),n=1;n<i.length&&i[n].getUTCDay()!==r;n+=1);a=Math.ceil(i.length/n)}else a=1,n=i.length;this.rowCnt=a,this.colCnt=n,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let e=0;e<this.colCnt;e+=1)n.push(this.buildCell(t,e));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),r=[];if(n){let{firstIndex:e,lastIndex:a}=n,i=e;for(;i<=a;){let s=Math.floor(i/t),o=Math.min((s+1)*t,a+1);r.push({row:s,firstCol:i%t,lastCol:(o-1)%t,isStart:n.isStart&&i===e,isEnd:n.isEnd&&o-1===a}),i=o}}return r}}class Slicer{constructor(){this.sliceBusinessHours=memoize(this._sliceBusinessHours),this.sliceDateSelection=memoize(this._sliceDateSpan),this.sliceEventStore=memoize(this._sliceEventStore),this.sliceEventDrag=memoize(this._sliceInteraction),this.sliceEventResize=memoize(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,r,...a){let{eventUiBases:i}=e,s=this.sliceEventStore(e.eventStore,i,t,n,...a);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,i,r,...a),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,r,...a),fgEventSegs:s.fg,bgEventSegs:s.bg,eventDrag:this.sliceEventDrag(e.eventDrag,i,t,n,...a),eventResize:this.sliceEventResize(e.eventResize,i,t,n,...a),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,r,...a){return this._sliceDateSpan({range:{start:e,end:addMs(e,1)},allDay:!1},t,n,{},r,...a)}_sliceBusinessHours(e,t,n,r,...a){return e?this._sliceEventStore(expandRecurring(e,computeActiveRange(t,Boolean(n)),r),{},t,n,...a).bg:[]}_sliceEventStore(e,t,n,r,...a){if(e){let i=sliceEventStore(e,t,computeActiveRange(n,Boolean(r)),r);return{bg:this.sliceEventRanges(i.bg,a),fg:this.sliceEventRanges(i.fg,a)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,r,...a){if(!e)return null;let i=sliceEventStore(e.mutatedEvents,t,computeActiveRange(n,Boolean(r)),r);return{segs:this.sliceEventRanges(i.fg,a),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,r,a,...i){if(!e)return[];let s=computeActiveRange(t,Boolean(n)),o=intersectRanges(e.range,s);if(o){let t=fabricateEventRange(e=Object.assign(Object.assign({},e),{range:o}),r,a),n=this.sliceRange(e.range,...i);for(let e of n)e.eventRange=t;return n}return[]}sliceEventRanges(e,t){let n=[];for(let r of e)n.push(...this.sliceEventRange(r,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&"list-item"===e.ui.display&&(n={start:n.start,end:addDays(n.start,1)});let r=this.sliceRange(n,...t);for(let t of r)t.eventRange=e,t.isStart=e.isStart&&t.isStart,t.isEnd=e.isEnd&&t.isEnd;return r}}function computeActiveRange(e,t){let n=e.activeRange;return t?n:{start:addMs(n.start,e.slotMinTime.milliseconds),end:addMs(n.end,e.slotMaxTime.milliseconds-864e5)}}function isInteractionValid(e,t,n){let{instances:r}=e.mutatedEvents;for(let e in r)if(!rangeContainsRange(t.validRange,r[e].range))return!1;return isNewPropsValid({eventDrag:e},n)}function isDateSelectionValid(e,t,n){return!!rangeContainsRange(t.validRange,e.range)&&isNewPropsValid({dateSelection:e},n)}function isNewPropsValid(e,t){let n=t.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||isPropsValid)(r,t)}function isPropsValid(e,t,n={},r){return!(e.eventDrag&&!isInteractionPropsValid(e,t,n,r))&&!(e.dateSelection&&!isDateSelectionPropsValid(e,t,n,r))}function isInteractionPropsValid(e,t,n,r){let a=t.getCurrentData(),i=e.eventDrag,s=i.mutatedEvents,o=s.defs,l=s.instances,c=compileEventUis(o,i.isEvent?e.eventUiBases:{"":a.selectionConfig});r&&(c=mapHash(c,r));let d=excludeInstances(e.eventStore,i.affectedEvents.instances),u=d.defs,f=d.instances,h=compileEventUis(u,e.eventUiBases);for(let r in l){let s=l[r],p=s.range,g=c[s.defId],m=o[s.defId];if(!allConstraintsPass(g.constraints,p,d,e.businessHours,t))return!1;let{eventOverlap:A}=t.options,y="function"==typeof A?A:null;for(let e in f){let n=f[e];if(rangesIntersect(p,n.range)){if(!1===h[n.defId].overlap&&i.isEvent)return!1;if(!1===g.overlap)return!1;if(y&&!y(new EventImpl(t,u[n.defId],n),new EventImpl(t,m,s)))return!1}}let E=a.eventStore;for(let e of g.allows){let a,i=Object.assign(Object.assign({},n),{range:s.range,allDay:m.allDay}),o=E.defs[m.defId],l=E.instances[r];if(a=o?new EventImpl(t,o,l):new EventImpl(t,m),!e(buildDateSpanApiWithContext(i,t),a))return!1}}return!0}function isDateSelectionPropsValid(e,t,n,r){let a=e.eventStore,i=a.defs,s=a.instances,o=e.dateSelection,l=o.range,{selectionConfig:c}=t.getCurrentData();if(r&&(c=r(c)),!allConstraintsPass(c.constraints,l,a,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,u="function"==typeof d?d:null;for(let e in s){let n=s[e];if(rangesIntersect(l,n.range)){if(!1===c.overlap)return!1;if(u&&!u(new EventImpl(t,i[n.defId],n),null))return!1}}for(let e of c.allows){if(!e(buildDateSpanApiWithContext(Object.assign(Object.assign({},n),o),t),null))return!1}return!0}function allConstraintsPass(e,t,n,r,a){for(let i of e)if(!anyRangesContainRange(constraintToRanges(i,t,n,r,a),t))return!1;return!0}function constraintToRanges(e,t,n,r,a){return"businessHours"===e?eventStoreToRanges(expandRecurring(r,t,a)):"string"==typeof e?eventStoreToRanges(filterEventStoreDefs(n,(t=>t.groupId===e))):"object"==typeof e&&e?eventStoreToRanges(expandRecurring(e,t,a)):[]}function eventStoreToRanges(e){let{instances:t}=e,n=[];for(let e in t)n.push(t[e].range);return n}function anyRangesContainRange(e,t){for(let n of e)if(rangeContainsRange(n,t))return!0;return!1}const VISIBLE_HIDDEN_RE=/^(visible|hidden)$/;class Scroller extends BaseComponent{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,setRef(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,r=t&&n,a=["fc-scroller"];return t&&(n?a.push("fc-scroller-liquid-absolute"):a.push("fc-scroller-liquid")),createElement("div",{ref:this.handleEl,className:a.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:r&&-(e.overcomeLeft||0)||"",right:r&&-(e.overcomeRight||0)||"",bottom:r&&-(e.overcomeBottom||0)||"",marginLeft:!r&&-(e.overcomeLeft||0)||"",marginRight:!r&&-(e.overcomeRight||0)||"",marginBottom:!r&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1){if(n[e].getBoundingClientRect().width>t)return!0}return!1}needsYScrolling(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let e=0;e<n.length;e+=1){if(n[e].getBoundingClientRect().height>t)return!0}return!1}getXScrollbarWidth(){return VISIBLE_HIDDEN_RE.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return VISIBLE_HIDDEN_RE.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class RefMap{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(e,t)=>{let{depths:n,currentMap:r}=this,a=!1,i=!1;null!==e?(a=t in r,r[t]=e,n[t]=(n[t]||0)+1,i=!0):(n[t]-=1,n[t]||(delete r[t],delete this.callbackMap[t],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(t)),i&&this.masterCallback(e,String(t)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=t=>{this.handleValue(t,String(e))}),t}collect(e,t,n){return collectFromHash(this.currentMap,e,t,n)}getAll(){return hashValuesToArray(this.currentMap)}}function computeShrinkWidth(e){let t=findElements(e,".fc-scrollgrid-shrink"),n=0;for(let e of t)n=Math.max(n,computeSmallestCellWidth(e));return Math.ceil(n)}function getSectionHasLiquidHeight(e,t){return e.liquid&&t.liquid}function getAllowYScrolling(e,t){return null!=t.maxHeight||getSectionHasLiquidHeight(e,t)}function renderChunkContent(e,t,n,r){let{expandRows:a}=n;return"function"==typeof t.content?t.content(n):createElement("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:a?n.clientHeight:""}},n.tableColGroupNode,createElement(r?"thead":"tbody",{role:"presentation"},"function"==typeof t.rowContent?t.rowContent(n):t.rowContent))}function isColPropsEqual(e,t){return isArraysEqual(e,t,isPropsEqual)}function renderMicroColGroup(e,t){let n=[];for(let r of e){let e=r.span||1;for(let a=0;a<e;a+=1)n.push(createElement("col",{style:{width:"shrink"===r.width?sanitizeShrinkWidth(t):r.width||"",minWidth:r.minWidth||""}}))}return createElement("colgroup",{},...n)}function sanitizeShrinkWidth(e){return null==e?4:e}function hasShrinkWidth(e){for(let t of e)if("shrink"===t.width)return!0;return!1}function getScrollGridClassNames(e,t){let n=["fc-scrollgrid",t.theme.getClass("table")];return e&&n.push("fc-scrollgrid-liquid"),n}function getSectionClassNames(e,t){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&null==e.maxHeight&&n.push("fc-scrollgrid-section-liquid"),e.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function renderScrollShim(e){return createElement("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function getStickyHeaderDates(e){let{stickyHeaderDates:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}function getStickyFooterScrollbar(e){let{stickyFooterScrollbar:t}=e;return null!=t&&"auto"!==t||(t="auto"===e.height||"auto"===e.viewHeight),t}class SimpleScrollGrid extends BaseComponent{constructor(){super(...arguments),this.processCols=memoize((e=>e),isColPropsEqual),this.renderMicroColGroup=memoize(renderMicroColGroup),this.scrollerRefs=new RefMap,this.scrollerElRefs=new RefMap(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,r=e.sections||[],a=this.processCols(e.cols),i=this.renderMicroColGroup(a,t.shrinkWidth),s=getScrollGridClassNames(e.liquid,n);e.collapsibleWidth&&s.push("fc-scrollgrid-collapsible");let o,l=r.length,c=0,d=[],u=[],f=[];for(;c<l&&"header"===(o=r[c]).type;)d.push(this.renderSection(o,i,!0)),c+=1;for(;c<l&&"body"===(o=r[c]).type;)u.push(this.renderSection(o,i,!1)),c+=1;for(;c<l&&"footer"===(o=r[c]).type;)f.push(this.renderSection(o,i,!0)),c+=1;let h=!getCanVGrowWithinCell();const p={role:"rowgroup"};return createElement("table",{role:"grid",className:s.join(" "),style:{height:e.height}},Boolean(!h&&d.length)&&createElement("thead",p,...d),Boolean(!h&&u.length)&&createElement("tbody",p,...u),Boolean(!h&&f.length)&&createElement("tfoot",p,...f),h&&createElement("tbody",p,...d,...u,...f))}renderSection(e,t,n){return"outerContent"in e?createElement(Fragment,{key:e.key},e.outerContent):createElement("tr",{key:e.key,role:"presentation",className:getSectionClassNames(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,r){if("outerContent"in n)return n.outerContent;let{props:a}=this,{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}=this.state,l=getAllowYScrolling(a,e),c=getSectionHasLiquidHeight(a,e),d=a.liquid?i?"scroll":l?"auto":"hidden":"visible",u=e.key,f=renderChunkContent(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:a.collapsibleWidth||void 0===s[u]?null:s[u],clientHeight:void 0!==o[u]?o[u]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},r);return createElement(r?"th":"td",{ref:n.elRef,role:"presentation"},createElement("div",{className:"fc-scroller-harness"+(c?" fc-scroller-harness-liquid":"")},createElement(Scroller,{ref:this.scrollerRefs.createRef(u),elRef:this.scrollerElRefs.createRef(u),overflowY:d,overflowX:a.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,t){let n=getSectionByKey(this.props.sections,t);n&&setRef(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return hasShrinkWidth(this.props.cols)?computeShrinkWidth(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=getScrollbarWidths(),{scrollerRefs:t,scrollerElRefs:n}=this,r=!1,a={},i={};for(let e in t.currentMap){let n=t.currentMap[e];if(n&&n.needsYScrolling()){r=!0;break}}for(let t of this.props.sections){let s=t.key,o=n.currentMap[s];if(o){let t=o.parentNode;a[s]=Math.floor(t.getBoundingClientRect().width-(r?e.y:0)),i[s]=Math.floor(t.getBoundingClientRect().height)}}return{forceYScrollbars:r,scrollerClientWidths:a,scrollerClientHeights:i}}}function getSectionByKey(e,t){for(let n of e)if(n.key===t)return n;return null}SimpleScrollGrid.addStateEquality({scrollerClientWidths:isPropsEqual,scrollerClientHeights:isPropsEqual});class EventContainer extends BaseComponent{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&setElSeg(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{eventRange:a}=r,{ui:i}=a,s={event:new EventImpl(t,a.def,a.instance),view:t.viewApi,timeText:e.timeText,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,isDraggable:!e.disableDragging&&computeSegDraggable(r,t),isStartResizable:!e.disableResizing&&computeSegStartResizable(r,t),isEndResizable:!e.disableResizing&&computeSegEndResizable(r),isMirror:Boolean(e.isDragging||e.isResizing||e.isDateSelecting),isStart:Boolean(r.isStart),isEnd:Boolean(r.isEnd),isPast:Boolean(e.isPast),isFuture:Boolean(e.isFuture),isToday:Boolean(e.isToday),isSelected:Boolean(e.isSelected),isDragging:Boolean(e.isDragging),isResizing:Boolean(e.isResizing)};return createElement(ContentContainer,Object.assign({},e,{elRef:this.handleEl,elClasses:[...getEventClassNames(s),...r.eventRange.ui.classNames,...e.elClasses||[]],renderProps:s,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&setElSeg(this.el,this.props.seg)}}class StandardEvent extends BaseComponent{render(){let{props:e,context:t}=this,{options:n}=t,{seg:r}=e,{ui:a}=r.eventRange,i=buildSegTimeText(r,n.eventTimeFormat||e.defaultTimeFormat,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return createElement(EventContainer,Object.assign({},e,{elTag:"a",elStyle:{borderColor:a.borderColor,backgroundColor:a.backgroundColor},elAttrs:getSegAnchorAttrs(r,t),defaultGenerator:renderInnerContent$1,timeText:i}),((e,t)=>createElement(Fragment,null,createElement(e,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:t.textColor}}),Boolean(t.isStartResizable)&&createElement("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(t.isEndResizable)&&createElement("div",{className:"fc-event-resizer fc-event-resizer-end"}))))}}function renderInnerContent$1(e){return createElement("div",{className:"fc-event-main-frame"},e.timeText&&createElement("div",{className:"fc-event-time"},e.timeText),createElement("div",{className:"fc-event-title-container"},createElement("div",{className:"fc-event-title fc-sticky"},e.event.title||createElement(Fragment,null," "))))}const NowIndicatorContainer=e=>createElement(ViewContextType.Consumer,null,(t=>{let{options:n}=t,r={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return createElement(ContentContainer,Object.assign({},e,{elTag:e.elTag||"div",renderProps:r,generatorName:"nowIndicatorContent",customGenerator:n.nowIndicatorContent,classNameGenerator:n.nowIndicatorClassNames,didMount:n.nowIndicatorDidMount,willUnmount:n.nowIndicatorWillUnmount}))})),DAY_NUM_FORMAT=createFormatter({day:"numeric"});class DayCellContainer extends BaseComponent{constructor(){super(...arguments),this.refineRenderProps=memoizeObjArg(refineRenderProps)}render(){let{props:e,context:t}=this,{options:n}=t,r=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return createElement(ContentContainer,Object.assign({},e,{elClasses:[...getDayClassNames(r,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),r.isDisabled?{}:{"data-date":formatDayString(e.date)}),renderProps:r,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function hasCustomDayCellContent(e){return Boolean(e.dayCellContent||hasCustomRenderingHandler("dayCellContent",e))}function refineRenderProps(e){let{date:t,dateEnv:n,dateProfile:r,isMonthStart:a}=e,i=getDateMeta(t,e.todayRange,null,r),s=e.showDayNumber?n.format(t,a?e.monthStartFormat:DAY_NUM_FORMAT):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(t),view:e.viewApi},i),{isMonthStart:a,dayNumberText:s}),e.extraRenderProps)}class BgEvent extends BaseComponent{render(){let{props:e}=this,{seg:t}=e;return createElement(EventContainer,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:renderInnerContent,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function renderInnerContent(e){let{title:t}=e.event;return t&&createElement("div",{className:"fc-event-title"},e.event.title)}function renderFill(e){return createElement("div",{className:`fc-${e}`})}const WeekNumberContainer=e=>createElement(ViewContextType.Consumer,null,(t=>{let{dateEnv:n,options:r}=t,{date:a}=e,i=r.weekNumberFormat||e.defaultFormat,s={num:n.computeWeekNumber(a),text:n.format(a,i),date:a};return createElement(ContentContainer,Object.assign({},e,{renderProps:s,generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:renderInner,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))}));function renderInner(e){return e.text}const PADDING_FROM_VIEWPORT=10;class Popover extends BaseComponent{constructor(){super(...arguments),this.state={titleId:getUniqueDomId()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&setRef(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=getEventTargetViaRoot(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{"Escape"===e.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:r}=this,a=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return createPortal(createElement("div",Object.assign({},n.extraAttrs,{id:n.id,className:a.join(" "),"aria-labelledby":r.titleId,ref:this.handleRootEl}),createElement("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},createElement("span",{className:"fc-popover-title",id:r.titleId},n.title),createElement("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),createElement("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:r}=this,a=computeClippedClientRect(t);if(a){let i=r.getBoundingClientRect(),s=n?elementClosest(t,".fc-scrollgrid").getBoundingClientRect().top:a.top,o=e?a.right-i.width:a.left;s=Math.max(s,10),o=Math.min(o,document.documentElement.clientWidth-10-i.width),o=Math.max(o,10);let l=r.offsetParent.getBoundingClientRect();applyStyle(r,{top:s-l.top,left:o-l.left})}}}class MorePopover extends DateComponent{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:r,todayRange:a,dateProfile:i}=n,s=t.format(r,e.dayPopoverFormat);return createElement(DayCellContainer,{elRef:this.handleRootEl,date:r,dateProfile:i,todayRange:a},((t,r,a)=>createElement(Popover,{elRef:a.ref,id:n.id,title:s,extraClassNames:["fc-more-popover"].concat(a.className||[]),extraAttrs:a,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},hasCustomDayCellContent(e)&&createElement(t,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children)))}queryHit(e,t,n,r){let{rootEl:a,props:i}=this;return e>=0&&e<n&&t>=0&&t<r?{dateProfile:i.dateProfile,dateSpan:Object.assign({allDay:!i.forceTimed,range:{start:i.startDate,end:i.endDate}},i.extraDateSpan),dayEl:a,rect:{left:0,top:0,right:n,bottom:r},layer:1}:null}}class MoreLinkContainer extends BaseComponent{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:getUniqueDomId()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&setRef(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:r}=n.options,a=computeRange(t).start;function i(e){let{def:t,instance:r,range:a}=e.eventRange;return{event:new EventImpl(n,t,r),start:n.dateEnv.toDate(a.start),end:n.dateEnv.toDate(a.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:a,allDay:Boolean(t.allDayDate),allSegs:t.allSegs.map(i),hiddenSegs:t.hiddenSegs.map(i),jsEvent:e,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(a,r):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return createElement(ViewContextType.Consumer,null,(n=>{let{viewApi:r,options:a,calendarApi:i}=n,{moreLinkText:s}=a,{moreCnt:o}=e,l=computeRange(e),c="function"==typeof s?s.call(i,o):`+${o} ${s}`,d=formatWithOrdinals(a.moreLinkHint,[o],c),u={num:o,shortText:`+${o}`,text:c,view:r};return createElement(Fragment,null,Boolean(e.moreCnt)&&createElement(ContentContainer,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),createAriaClickAttrs(this.handleClick)),{title:d,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:u,generatorName:"moreLinkContent",customGenerator:a.moreLinkContent,defaultGenerator:e.defaultGenerator||renderMoreLinkInner,classNameGenerator:a.moreLinkClassNames,didMount:a.moreLinkDidMount,willUnmount:a.moreLinkWillUnmount},e.children),t.isPopoverOpen&&createElement(MorePopover,{id:t.popoverId,startDate:l.start,endDate:l.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))}))}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=elementClosest(this.linkEl,".fc-view-harness"))}}function renderMoreLinkInner(e){return e.text}function computeRange(e){if(e.allDayDate)return{start:e.allDayDate,end:addDays(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:computeEarliestSegStart(t),end:computeLatestSegEnd(t)}}function computeEarliestSegStart(e){return e.reduce(pickEarliestStart).eventRange.range.start}function pickEarliestStart(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function computeLatestSegEnd(e){return e.reduce(pickLatestEnd).eventRange.range.end}function pickLatestEnd(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class Store{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),void 0!==this.currentValue&&e(this.currentValue)}}class CustomRenderingStore extends Store{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}export{elementClosest as $,memoizeObjArg as A,BaseComponent as B,ContentContainer as C,DelayedRunner as D,isPropsEqual as E,Emitter as F,getInitialDate as G,rangeContainsMarker as H,createEmptyEventStore as I,reduceCurrentDate as J,reduceEventStore as K,rezoneEventStoreDates as L,mergeRawOptions as M,BASE_OPTION_REFINERS as N,CALENDAR_LISTENER_REFINERS as O,CALENDAR_OPTION_REFINERS as P,COMPLEX_OPTION_COMPARATORS as Q,VIEW_OPTION_REFINERS as R,DateEnv as S,Theme as T,DateProfileGenerator as U,ViewContextType as V,createEventUi as W,parseBusinessHours as X,setRef as Y,Interaction as Z,getElSeg as _,mapHash as a,getSlotClassNames as a$,EventImpl as a0,listenBySelector as a1,listenToHoverBySelector as a2,PureComponent as a3,buildViewContext as a4,getUniqueDomId as a5,parseInteractionSettings as a6,interactionSettingsStore as a7,getNow as a8,CalendarImpl as a9,diffDates as aA,removeExact as aB,memoizeArraylike as aC,memoizeHashlike as aD,intersectRects as aE,pointInsideRect as aF,constrainPoint as aG,getRectCenter as aH,diffPoints as aI,translateRect as aJ,compareObjs as aK,collectFromHash as aL,findElements as aM,findDirectChildren as aN,removeElement as aO,applyStyle as aP,elementMatches as aQ,getEventTargetViaRoot as aR,parseClassNames as aS,getCanVGrowWithinCell as aT,mergeEventStores as aU,getRelevantEvents as aV,eventTupleToStore as aW,combineEventUis as aX,Splitter as aY,getDayClassNames as aZ,getDateMeta as a_,flushSync as aa,CalendarRoot as ab,RenderId as ac,ensureElHasStyles as ad,applyStyleProp as ae,sliceEventStore as af,JsonRequestError as ag,createContext as ah,refineProps as ai,createEventInstance as aj,parseEventDef as ak,refineEventDef as al,padStart as am,isInt as an,parseFieldSpecs as ao,compareByFieldSpecs as ap,flexibleCompare as aq,preventSelection as ar,allowSelection as as,preventContextMenu as at,allowContextMenu as au,compareNumbers as av,enableCursor as aw,disableCursor as ax,computeVisibleDayRange as ay,isMultiDayRange as az,buildViewClassNames as b,SimpleScrollGrid as b$,buildNavLinkAttrs as b0,preventDefault as b1,whenTransitionDone as b2,computeInnerRect as b3,computeEdges as b4,getClippingParents as b5,computeRect as b6,rangesEqual as b7,rangesIntersect as b8,rangeContainsRange as b9,SegHierarchy as bA,buildEntryKey as bB,getEntrySpanEnd as bC,binarySearch as bD,groupIntersectingEntries as bE,intersectSpans as bF,interactionSettingsToStore as bG,ElementDragging as bH,config as bI,parseDragMeta as bJ,DayHeader as bK,computeFallbackHeaderFormat as bL,TableDateCell as bM,TableDowCell as bN,DaySeriesModel as bO,hasBgRendering as bP,buildSegTimeText as bQ,sortEventSegs as bR,getSegMeta as bS,buildEventRangeKey as bT,getSegAnchorAttrs as bU,DayTableModel as bV,Slicer as bW,applyMutationToEventStore as bX,isPropsValid as bY,isInteractionValid as bZ,isDateSelectionValid as b_,PositionCache as ba,ScrollController as bb,ElementScrollController as bc,WindowScrollController as bd,DateComponent as be,isDateSpansEqual as bf,addMs as bg,addWeeks as bh,diffWeeks as bi,diffWholeWeeks as bj,diffDayAndTime as bk,diffDays as bl,isValidDate as bm,asCleanDays as bn,multiplyDuration as bo,addDurations as bp,asRoughMinutes as bq,asRoughSeconds as br,asRoughMs as bs,wholeDivideDurations as bt,formatIsoTimeString as bu,formatDayString as bv,buildIsoString as bw,formatIsoMonthStr as bx,NamedTimeZoneImpl as by,parse as bz,greatestDurationDenominator as c,hasShrinkWidth as c0,renderMicroColGroup as c1,getScrollGridClassNames as c2,getSectionClassNames as c3,getSectionHasLiquidHeight as c4,getAllowYScrolling as c5,renderChunkContent as c6,computeShrinkWidth as c7,sanitizeShrinkWidth as c8,isColPropsEqual as c9,renderScrollShim as ca,getStickyFooterScrollbar as cb,getStickyHeaderDates as cc,Scroller as cd,getScrollbarWidths as ce,RefMap as cf,getIsRtlScrollbarOnLeft as cg,NowTimer as ch,ScrollResponder as ci,StandardEvent as cj,NowIndicatorContainer as ck,DayCellContainer as cl,hasCustomDayCellContent as cm,EventContainer as cn,renderFill as co,BgEvent as cp,WeekNumberContainer as cq,MoreLinkContainer as cr,computeEarliestSegStart as cs,ViewContainer as ct,triggerDateSelect as cu,getDefaultEventEnd as cv,injectStyles as cw,buildElAttrs as cx,CustomRenderingStore as cy,createDuration as d,BASE_OPTION_DEFAULTS as e,arrayToHash as f,guid as g,filterHash as h,isArraysEqual as i,buildEventSourceRefiners as j,formatWithOrdinals as k,buildRangeApiWithTimeZone as l,mergeProps as m,identity as n,intersectRanges as o,parseEventSource as p,startOfDay as q,requestJson as r,subtractDurations as s,addDays as t,unpromisify as u,hashValuesToArray as v,buildEventApis as w,createFormatter as x,diffWholeDays as y,memoize as z};
//# sourceMappingURL=/sm/63c2a30f5cd2cc3d3d2187233ba23a0dd254e3ad73fed1de2e01e9005d5d6017.map