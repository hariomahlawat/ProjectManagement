.process-hero {
  padding-block: 1.25rem;
}

.process-hero .hero-badge {
  background: linear-gradient(135deg, rgba(13, 110, 253, 0.08), rgba(32, 201, 151, 0.08));
  border: 1px solid rgba(13, 110, 253, 0.15);
  min-width: 220px;
  padding: 0.875rem 1rem;
}

.process-hero .display-6 {
  font-size: clamp(1.75rem, 2.5vw, 2.25rem);
  margin-bottom: 0.75rem !important;
}

.process-hero .lead {
  margin-bottom: 0.5rem !important;
}

.process-layout {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.proc-diagram {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.proc-diagram__canvas {
  position: relative;
  min-height: 600px;
  height: clamp(600px, 72vh, 920px);
  border: 1px solid var(--bs-border-color);
  border-radius: 0.75rem;
  background: var(--bs-body-bg);
  overflow: auto;
  padding: 1rem;
}

.proc-diagram__canvas svg {
  width: 100%;
  height: 100%;
  min-width: 600px;
  min-height: 480px;
}

.proc-diagram__canvas [data-flow-placeholder] {
  min-height: 320px;
}

.proc-diagram__canvas .flow-connectors {
  pointer-events: none;
}

.proc-diagram__canvas .flow-connector {
  fill: none;
  stroke: var(--bs-border-color);
  stroke-width: 1.5;
  marker-end: url(#pm-flow-arrow);
  transition: stroke 0.2s ease, opacity 0.2s ease;
}

.proc-diagram__canvas .flow-connector--dashed {
  stroke-dasharray: 6 6;
}

.proc-diagram__canvas .flow-connector.is-selected-edge {
  stroke: #4c7dff;
  stroke-width: 1.9;
}

.proc-diagram__canvas .flow-connector.is-predecessor-edge {
  stroke: rgba(25, 135, 84, 0.7);
}

.proc-diagram__canvas .flow-connector.is-successor-edge {
  stroke: rgba(13, 110, 253, 0.75);
}

.proc-diagram__canvas .flow-node {
  cursor: pointer;
  transition: filter 0.2s ease, transform 0.2s ease;
}

.proc-diagram__canvas .flow-node:focus-visible {
  outline: none;
  filter: drop-shadow(0 0 0.35rem rgba(76, 125, 255, 0.4));
}

.proc-diagram__canvas .flow-node__body {
  stroke-width: 1.6;
  transition: stroke 0.2s ease, fill 0.2s ease;
}

.proc-diagram__canvas .flow-node--terminator .flow-node__body {
  fill: #eef4ff;
  stroke: #94b6ff;
}

.proc-diagram__canvas .flow-node--process .flow-node__body {
  fill: #f0f7f3;
  stroke: #7cc4a5;
}

.proc-diagram__canvas .flow-node--decision .flow-node__body {
  fill: #f7f1ff;
  stroke: #b89ce5;
}

.proc-diagram__canvas .flow-node.is-optional .flow-node__body {
  stroke-dasharray: 6 4;
}

.proc-diagram__canvas .flow-node.is-selected .flow-node__body {
  stroke: #4c7dff;
  fill: rgba(76, 125, 255, 0.12);
}

.proc-diagram__canvas .flow-node.is-predecessor .flow-node__body {
  stroke: rgba(25, 135, 84, 0.75);
  fill: rgba(25, 135, 84, 0.12);
}

.proc-diagram__canvas .flow-node.is-successor .flow-node__body {
  stroke: rgba(13, 110, 253, 0.8);
  fill: rgba(13, 110, 253, 0.12);
}

.proc-diagram__canvas .flow-node__label {
  font-size: 1rem;
  line-height: 1.35;
  font-weight: 600;
  fill: var(--bs-body-color);
  letter-spacing: 0.01em;
  pointer-events: none;
}

.stage-checklist {
  list-style: decimal inside;
  padding-left: 1.25rem;
  display: grid;
  gap: 0.75rem;
}

.stage-checklist[aria-busy="true"]::after {
  content: "";
  display: none;
}

.stage-checklist .checklist-item {
  background: rgba(248, 249, 250, 0.7);
  border-radius: 0.75rem;
  padding: 0.75rem 0.75rem 0.75rem 1rem;
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 0.75rem;
  align-items: flex-start;
}

.stage-checklist .checklist-item.read-only {
  grid-template-columns: 1fr;
}

.stage-checklist .checklist-item .checklist-handle {
  cursor: grab;
  color: var(--bs-secondary-color);
}

.stage-checklist .checklist-item .checklist-handle:active {
  cursor: grabbing;
}

.stage-checklist .checklist-item .item-actions .btn {
  padding: 0.25rem 0.5rem;
}

.stage-checklist .checklist-empty {
  list-style: none;
  padding-left: 0;
  color: var(--bs-secondary-color);
}

@media (max-width: 1199.98px) {
  .process-layout {
    grid-template-columns: minmax(480px, 1fr) 320px;
  }
}

@media (max-width: 991.98px) {
  .process-layout {
    grid-template-columns: 1fr;
  }

  .proc-panel {
    order: -1;
  }

  .process-stage-info__body {
    max-height: none;
    overflow: visible;
    padding-right: 0;
  }
}

@media (max-width: 575.98px) {
  .proc-diagram__canvas {
    padding: 0.75rem;
    min-height: 400px;
    height: 400px;
  }

  .proc-diagram__canvas svg {
    min-width: 460px;
  }
}
