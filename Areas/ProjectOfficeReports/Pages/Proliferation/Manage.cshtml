@page
@model ProjectManagement.Areas.ProjectOfficeReports.Pages.Proliferation.ManageModel
@{
    ViewData["Title"] = "Proliferation Manager";
}

<div class="container-xxl my-4" data-page="proliferation-manage">
    <nav aria-label="Breadcrumb" class="visit-breadcrumb">
        <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a asp-area="" asp-page="/Dashboard/Index">Dashboard</a></li>
            <li class="breadcrumb-item"><a asp-area="ProjectOfficeReports" asp-page="/Proliferation/Index">Proliferation tracker</a></li>
            <li class="breadcrumb-item active" aria-current="page">Proliferation manager</li>
        </ol>
    </nav>

    <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-3 mb-4">
        <div>
            <h2 class="mb-2">Proliferation Manager</h2>
            <p class="text-muted mb-0">Review existing entries and add or edit yearly totals and granular records.</p>
        </div>
    </div>

    @{
        ViewData["ProliferationOverrides"] = Model.OverridesBoot;
    }

    <div class="pf-manage-layout" data-pf-manage-layout>
        <section class="pf-manage-panel pf-manage-panel--list" id="pf-list-panel" aria-label="Filters and proliferation results">
            <partial name="_ProliferationList" model="Model.ListBoot" />
        </section>
        <section class="pf-manage-panel pf-manage-panel--detail" id="pf-detail-panel" aria-label="Editor and preference overrides">
            <partial name="_ProliferationEditor" model="Model.EditorBoot" view-data="ViewData" />
        </section>
    </div>
</div>

<div class="modal fade" id="pf-delete-modal" tabindex="-1" aria-labelledby="pf-delete-modal-label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header border-0 pb-0">
                <h5 class="modal-title" id="pf-delete-modal-label">Delete proliferation entry</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cancel deletion"></button>
            </div>
            <div class="modal-body">
                <p class="mb-2">Are you sure you want to delete the <span data-confirm-type>selected record</span> for <span data-confirm-project>this project</span>?</p>
                <p class="text-muted mb-0">This will remove data for <span data-confirm-date>the selected date</span>. This action cannot be undone.</p>
            </div>
            <div class="modal-footer border-0 pt-0">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal" data-confirm-cancel>Cancel</button>
                <button type="button" class="btn btn-danger" data-confirm-accept>Delete entry</button>
            </div>
        </div>
    </div>
</div>

<div class="toast-container position-fixed top-0 end-0 p-3" id="toastHost" aria-live="polite" aria-atomic="true"></div>

@section Scripts {
    <script src="~/js/pages/proliferation-manage.js" asp-append-version="true" defer></script>
}
