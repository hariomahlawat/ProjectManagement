@model ProjectManagement.Areas.Dashboard.Components.ProjectPulse.ProjectPulseVm

<section class="pm-pulse" aria-labelledby="pm-pulse-title">
  @* SECTION: Header summary *@
  <header class="pm-pulse__header">
    <h2 id="pm-pulse-title" class="pm-pulse__title">Project pulse</h2>
    <ul class="pm-pulse__summary" role="list">
      <li>
        <span class="pm-pulse__k">Total</span>
        <span class="pm-pulse__v">@Model.Total</span>
      </li>
      <li>
        <span class="pm-pulse__k">Completed</span>
        <span class="pm-pulse__v">@Model.Completed</span>
      </li>
      <li>
        <span class="pm-pulse__k">Ongoing</span>
        <span class="pm-pulse__v">@Model.Ongoing</span>
      </li>
      <li>
        <span class="pm-pulse__k">Idle</span>
        <span class="pm-pulse__v">@Model.Idle</span>
      </li>
    </ul>
  </header>
  @* END SECTION *@

  @* SECTION: Widget grid *@
  <div class="pm-pulse__grid">
    <article class="pm-pulse__card">
      <div class="pm-pulse__meta">
        <span class="pm-pulse__label">Completed</span>
        <span class="pm-pulse__number">@Model.Completed</span>
      </div>
      <div class="pm-pulse__spark">
        <canvas
          width="220"
          height="40"
          data-spark="line"
          data-points="@string.Join(',', Model.CompletedByMonth)"></canvas>
      </div>
      <footer class="pm-pulse__footer">
        <a class="pm-pulse__link" href="@Model.CompletedUrl" aria-label="View completed projects">View completed</a>
      </footer>
    </article>

    <article class="pm-pulse__card">
      <div class="pm-pulse__meta">
        <span class="pm-pulse__label">Ongoing</span>
        <span class="pm-pulse__number">@Model.Ongoing</span>
      </div>
      <div class="pm-pulse__spark">
        <canvas
          width="220"
          height="40"
          data-spark="bar"
          data-points="@string.Join(',', Model.OngoingByMonth)"></canvas>
      </div>
      <footer class="pm-pulse__footer">
        <a class="pm-pulse__link" href="@Model.OngoingUrl" aria-label="View ongoing projects">View ongoing</a>
      </footer>
    </article>

    <article class="pm-pulse__card">
      <div class="pm-pulse__meta">
        <span class="pm-pulse__label">All projects</span>
        <span class="pm-pulse__number">@Model.Total</span>
      </div>
      <div class="pm-pulse__spark">
        <canvas
          width="220"
          height="40"
          data-spark="area"
          data-points="@string.Join(',', Model.NewByMonth)"></canvas>
      </div>
      <footer class="pm-pulse__footer">
        <a class="pm-pulse__link" href="@Model.RepositoryUrl" aria-label="Explore repository">Explore repository</a>
      </footer>
    </article>

    <aside class="pm-pulse__cta" aria-label="Project analytics deep dive">
      <div class="pm-pulse__cta-body">
        <h3 class="pm-pulse__cta-title">Deep dive</h3>
        <p class="pm-pulse__cta-copy">Trends, drill-downs and downloads.</p>
      </div>
      <a class="btn btn-primary pm-pulse__cta-btn" href="@Model.AnalyticsUrl">Open analytics</a>
    </aside>
  </div>
  @* END SECTION *@
</section>

<link rel="stylesheet" href="~/css/widgets/project-pulse.css" asp-append-version="true" />
<script type="module" src="~/js/widgets/project-pulse.js" asp-append-version="true"></script>
