@page
@model ProjectManagement.Areas.Admin.Pages.Help.IndexModel
@{
    ViewData["Title"] = "Admin Help";
}
<nav aria-label="breadcrumb" class="mb-2">
  <ol class="breadcrumb small mb-0">
    <li class="breadcrumb-item"><a asp-area="Admin" asp-page="/Index">Admin</a></li>
    <li class="breadcrumb-item active" aria-current="page">Help</li>
  </ol>
</nav>
<div class="py-3">
  <!-- Hero -->
  <div class="pb-3 mb-3 border-bottom">
    <h3 class="mb-1">Admin Help and Guidance</h3>
    <p class="text-muted mb-0">Essential how-tos for user lifecycle, security and audits. Short and practical.</p>
  </div>

  <div class="row g-4" id="user-lifecycle">
    <!-- Main -->
    <div class="col-md-8">
      <!-- Quick start -->
      <div class="row g-3">
        <div class="col-md-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <h6 class="card-title mb-2">Create a user</h6>
              <ol class="small mb-0 ps-3">
                <li>Go to <strong>Admin → Users</strong></li>
                <li>Click <strong>Add User</strong></li>
                <li>Assign roles and save</li>
              </ol>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <h6 class="card-title mb-2">Suspend access</h6>
              <p class="small mb-2">Use <strong>Disable</strong> to suspend sign-in while keeping all data.</p>
              <a class="small" href="#disable-vs-delete">Learn when to use what →</a>
            </div>
          </div>
        </div>
        <!-- Quick start → Reset password card -->
        <div class="col-md-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <h6 class="card-title mb-2">Reset password</h6>
              <p class="small mb-0">
                Users cannot reset passwords themselves. An administrator sets a temporary password and marks the account to
                require a change at next sign-in.
              </p>
            </div>
          </div>
        </div>
      </div>

      @* Decision guide text that matches current capabilities *@
      <div id="disable-vs-delete" class="mt-4">
        <h5 class="mb-2">When to use what</h5>
        <div class="accordion" id="adminGuide">
          <div class="accordion-item">
            <h2 class="accordion-header" id="resetHead">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#resetBody">
                Reset password
              </button>
            </h2>
            <div id="resetBody" class="accordion-collapse collapse" data-bs-parent="#adminGuide">
              <div class="accordion-body small">
                Users cannot reset passwords themselves. If a user forgets the password, contact an administrator.
                The administrator can set a temporary password and mark the account to require password change at next sign-in.
              </div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="disableHead">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#disableBody">
                Disable
              </button>
            </h2>
            <div id="disableBody" class="accordion-collapse collapse show" data-bs-parent="#adminGuide">
              <div class="accordion-body small">
                Temporarily suspends sign-in while preserving all associated data such as projects, remarks and tasks.
                Use when access must be paused. Re-enable to restore access.
              </div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="deleteHead">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#deleteBody">
                Delete
              </button>
            </h2>
            <div id="deleteBody" class="accordion-collapse collapse" data-bs-parent="#adminGuide">
              <div class="accordion-body small">
                Permanently removes the account after policy checks and retention periods.
                This action cannot be undone.
              </div>
            </div>
          </div>
        </div>
      </div>

      @* Security checklist — only what exists today *@
      <div id="security" class="mt-4">
        <h5 class="mb-2">Security checklist</h5>
        <ul class="small mb-0">
          <li>Use strong passwords</li>
          <li>Set “Require password change at next sign-in” for new or reset accounts</li>
          <li>Review audit logs weekly and address any errors</li>
        </ul>
      </div>
    </div>

    <!-- Right rail -->
    <div class="col-md-4">
      <div class="card shadow-sm sticky-top" style="top: 88px;">
        <div class="card-body">
          <h6 class="card-title">On this page</h6>
          <div class="list-group list-group-flush">
            <a class="list-group-item list-group-item-action py-2" href="#disable-vs-delete">When to use what</a>
            <a class="list-group-item list-group-item-action py-2" href="#resetHead">Reset password</a>
            <a class="list-group-item list-group-item-action py-2" href="#disableHead">Disable</a>
            <a class="list-group-item list-group-item-action py-2" href="#deleteHead">Delete</a>
            <a class="list-group-item list-group-item-action py-2" href="#security">Security checklist</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
